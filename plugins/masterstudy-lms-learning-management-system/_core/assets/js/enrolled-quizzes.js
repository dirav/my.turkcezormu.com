(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";

function _typeof(obj) { "@babel/helpers - typeof"; return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; }, _typeof(obj); }
var _tabsToggle = require("./modules/tabs-toggle.js");
var _quizAttempts = require("./modules/quiz-attempts.js");
var _enrolledQuizzes = require("./modules/enrolled-quizzes.js");
var _config = require("./modules/config.js");
function _regeneratorRuntime() { "use strict"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */ _regeneratorRuntime = function _regeneratorRuntime() { return exports; }; var exports = {}, Op = Object.prototype, hasOwn = Op.hasOwnProperty, defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; }, $Symbol = "function" == typeof Symbol ? Symbol : {}, iteratorSymbol = $Symbol.iterator || "@@iterator", asyncIteratorSymbol = $Symbol.asyncIterator || "@@asyncIterator", toStringTagSymbol = $Symbol.toStringTag || "@@toStringTag"; function define(obj, key, value) { return Object.defineProperty(obj, key, { value: value, enumerable: !0, configurable: !0, writable: !0 }), obj[key]; } try { define({}, ""); } catch (err) { define = function define(obj, key, value) { return obj[key] = value; }; } function wrap(innerFn, outerFn, self, tryLocsList) { var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator, generator = Object.create(protoGenerator.prototype), context = new Context(tryLocsList || []); return defineProperty(generator, "_invoke", { value: makeInvokeMethod(innerFn, self, context) }), generator; } function tryCatch(fn, obj, arg) { try { return { type: "normal", arg: fn.call(obj, arg) }; } catch (err) { return { type: "throw", arg: err }; } } exports.wrap = wrap; var ContinueSentinel = {}; function Generator() {} function GeneratorFunction() {} function GeneratorFunctionPrototype() {} var IteratorPrototype = {}; define(IteratorPrototype, iteratorSymbol, function () { return this; }); var getProto = Object.getPrototypeOf, NativeIteratorPrototype = getProto && getProto(getProto(values([]))); NativeIteratorPrototype && NativeIteratorPrototype !== Op && hasOwn.call(NativeIteratorPrototype, iteratorSymbol) && (IteratorPrototype = NativeIteratorPrototype); var Gp = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(IteratorPrototype); function defineIteratorMethods(prototype) { ["next", "throw", "return"].forEach(function (method) { define(prototype, method, function (arg) { return this._invoke(method, arg); }); }); } function AsyncIterator(generator, PromiseImpl) { function invoke(method, arg, resolve, reject) { var record = tryCatch(generator[method], generator, arg); if ("throw" !== record.type) { var result = record.arg, value = result.value; return value && "object" == _typeof(value) && hasOwn.call(value, "__await") ? PromiseImpl.resolve(value.__await).then(function (value) { invoke("next", value, resolve, reject); }, function (err) { invoke("throw", err, resolve, reject); }) : PromiseImpl.resolve(value).then(function (unwrapped) { result.value = unwrapped, resolve(result); }, function (error) { return invoke("throw", error, resolve, reject); }); } reject(record.arg); } var previousPromise; defineProperty(this, "_invoke", { value: function value(method, arg) { function callInvokeWithMethodAndArg() { return new PromiseImpl(function (resolve, reject) { invoke(method, arg, resolve, reject); }); } return previousPromise = previousPromise ? previousPromise.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg(); } }); } function makeInvokeMethod(innerFn, self, context) { var state = "suspendedStart"; return function (method, arg) { if ("executing" === state) throw new Error("Generator is already running"); if ("completed" === state) { if ("throw" === method) throw arg; return doneResult(); } for (context.method = method, context.arg = arg;;) { var delegate = context.delegate; if (delegate) { var delegateResult = maybeInvokeDelegate(delegate, context); if (delegateResult) { if (delegateResult === ContinueSentinel) continue; return delegateResult; } } if ("next" === context.method) context.sent = context._sent = context.arg;else if ("throw" === context.method) { if ("suspendedStart" === state) throw state = "completed", context.arg; context.dispatchException(context.arg); } else "return" === context.method && context.abrupt("return", context.arg); state = "executing"; var record = tryCatch(innerFn, self, context); if ("normal" === record.type) { if (state = context.done ? "completed" : "suspendedYield", record.arg === ContinueSentinel) continue; return { value: record.arg, done: context.done }; } "throw" === record.type && (state = "completed", context.method = "throw", context.arg = record.arg); } }; } function maybeInvokeDelegate(delegate, context) { var methodName = context.method, method = delegate.iterator[methodName]; if (undefined === method) return context.delegate = null, "throw" === methodName && delegate.iterator["return"] && (context.method = "return", context.arg = undefined, maybeInvokeDelegate(delegate, context), "throw" === context.method) || "return" !== methodName && (context.method = "throw", context.arg = new TypeError("The iterator does not provide a '" + methodName + "' method")), ContinueSentinel; var record = tryCatch(method, delegate.iterator, context.arg); if ("throw" === record.type) return context.method = "throw", context.arg = record.arg, context.delegate = null, ContinueSentinel; var info = record.arg; return info ? info.done ? (context[delegate.resultName] = info.value, context.next = delegate.nextLoc, "return" !== context.method && (context.method = "next", context.arg = undefined), context.delegate = null, ContinueSentinel) : info : (context.method = "throw", context.arg = new TypeError("iterator result is not an object"), context.delegate = null, ContinueSentinel); } function pushTryEntry(locs) { var entry = { tryLoc: locs[0] }; 1 in locs && (entry.catchLoc = locs[1]), 2 in locs && (entry.finallyLoc = locs[2], entry.afterLoc = locs[3]), this.tryEntries.push(entry); } function resetTryEntry(entry) { var record = entry.completion || {}; record.type = "normal", delete record.arg, entry.completion = record; } function Context(tryLocsList) { this.tryEntries = [{ tryLoc: "root" }], tryLocsList.forEach(pushTryEntry, this), this.reset(!0); } function values(iterable) { if (iterable) { var iteratorMethod = iterable[iteratorSymbol]; if (iteratorMethod) return iteratorMethod.call(iterable); if ("function" == typeof iterable.next) return iterable; if (!isNaN(iterable.length)) { var i = -1, next = function next() { for (; ++i < iterable.length;) if (hasOwn.call(iterable, i)) return next.value = iterable[i], next.done = !1, next; return next.value = undefined, next.done = !0, next; }; return next.next = next; } } return { next: doneResult }; } function doneResult() { return { value: undefined, done: !0 }; } return GeneratorFunction.prototype = GeneratorFunctionPrototype, defineProperty(Gp, "constructor", { value: GeneratorFunctionPrototype, configurable: !0 }), defineProperty(GeneratorFunctionPrototype, "constructor", { value: GeneratorFunction, configurable: !0 }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, toStringTagSymbol, "GeneratorFunction"), exports.isGeneratorFunction = function (genFun) { var ctor = "function" == typeof genFun && genFun.constructor; return !!ctor && (ctor === GeneratorFunction || "GeneratorFunction" === (ctor.displayName || ctor.name)); }, exports.mark = function (genFun) { return Object.setPrototypeOf ? Object.setPrototypeOf(genFun, GeneratorFunctionPrototype) : (genFun.__proto__ = GeneratorFunctionPrototype, define(genFun, toStringTagSymbol, "GeneratorFunction")), genFun.prototype = Object.create(Gp), genFun; }, exports.awrap = function (arg) { return { __await: arg }; }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, asyncIteratorSymbol, function () { return this; }), exports.AsyncIterator = AsyncIterator, exports.async = function (innerFn, outerFn, self, tryLocsList, PromiseImpl) { void 0 === PromiseImpl && (PromiseImpl = Promise); var iter = new AsyncIterator(wrap(innerFn, outerFn, self, tryLocsList), PromiseImpl); return exports.isGeneratorFunction(outerFn) ? iter : iter.next().then(function (result) { return result.done ? result.value : iter.next(); }); }, defineIteratorMethods(Gp), define(Gp, toStringTagSymbol, "Generator"), define(Gp, iteratorSymbol, function () { return this; }), define(Gp, "toString", function () { return "[object Generator]"; }), exports.keys = function (val) { var object = Object(val), keys = []; for (var key in object) keys.push(key); return keys.reverse(), function next() { for (; keys.length;) { var key = keys.pop(); if (key in object) return next.value = key, next.done = !1, next; } return next.done = !0, next; }; }, exports.values = values, Context.prototype = { constructor: Context, reset: function reset(skipTempReset) { if (this.prev = 0, this.next = 0, this.sent = this._sent = undefined, this.done = !1, this.delegate = null, this.method = "next", this.arg = undefined, this.tryEntries.forEach(resetTryEntry), !skipTempReset) for (var name in this) "t" === name.charAt(0) && hasOwn.call(this, name) && !isNaN(+name.slice(1)) && (this[name] = undefined); }, stop: function stop() { this.done = !0; var rootRecord = this.tryEntries[0].completion; if ("throw" === rootRecord.type) throw rootRecord.arg; return this.rval; }, dispatchException: function dispatchException(exception) { if (this.done) throw exception; var context = this; function handle(loc, caught) { return record.type = "throw", record.arg = exception, context.next = loc, caught && (context.method = "next", context.arg = undefined), !!caught; } for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i], record = entry.completion; if ("root" === entry.tryLoc) return handle("end"); if (entry.tryLoc <= this.prev) { var hasCatch = hasOwn.call(entry, "catchLoc"), hasFinally = hasOwn.call(entry, "finallyLoc"); if (hasCatch && hasFinally) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } else if (hasCatch) { if (this.prev < entry.catchLoc) return handle(entry.catchLoc, !0); } else { if (!hasFinally) throw new Error("try statement without catch or finally"); if (this.prev < entry.finallyLoc) return handle(entry.finallyLoc); } } } }, abrupt: function abrupt(type, arg) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc <= this.prev && hasOwn.call(entry, "finallyLoc") && this.prev < entry.finallyLoc) { var finallyEntry = entry; break; } } finallyEntry && ("break" === type || "continue" === type) && finallyEntry.tryLoc <= arg && arg <= finallyEntry.finallyLoc && (finallyEntry = null); var record = finallyEntry ? finallyEntry.completion : {}; return record.type = type, record.arg = arg, finallyEntry ? (this.method = "next", this.next = finallyEntry.finallyLoc, ContinueSentinel) : this.complete(record); }, complete: function complete(record, afterLoc) { if ("throw" === record.type) throw record.arg; return "break" === record.type || "continue" === record.type ? this.next = record.arg : "return" === record.type ? (this.rval = this.arg = record.arg, this.method = "return", this.next = "end") : "normal" === record.type && afterLoc && (this.next = afterLoc), ContinueSentinel; }, finish: function finish(finallyLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.finallyLoc === finallyLoc) return this.complete(entry.completion, entry.afterLoc), resetTryEntry(entry), ContinueSentinel; } }, "catch": function _catch(tryLoc) { for (var i = this.tryEntries.length - 1; i >= 0; --i) { var entry = this.tryEntries[i]; if (entry.tryLoc === tryLoc) { var record = entry.completion; if ("throw" === record.type) { var thrown = record.arg; resetTryEntry(entry); } return thrown; } } throw new Error("illegal catch attempt"); }, delegateYield: function delegateYield(iterable, resultName, nextLoc) { return this.delegate = { iterator: values(iterable), resultName: resultName, nextLoc: nextLoc }, "next" === this.method && (this.arg = undefined), ContinueSentinel; } }, exports; }
function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }
function _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err); } _next(undefined); }); }; }
window.$ = jQuery;
$(document).ready( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {
  return _regeneratorRuntime().wrap(function _callee$(_context) {
    while (1) switch (_context.prev = _context.next) {
      case 0:
        (0, _tabsToggle.initTabsToggle)();
        if (typeof masterstudy_quiz_attempts !== "undefined" && $(_config.CONFIG.selectors.quizStandalone.container).length) {
          _quizAttempts.QuizAttemptsModule.init('standalone');
        }
        if ($('.masterstudy-enrolled-quizzes-container').length) {
          _enrolledQuizzes.EnrolledQuizzesModule.init();
        }
      case 3:
      case "end":
        return _context.stop();
    }
  }, _callee);
})));

},{"./modules/config.js":2,"./modules/enrolled-quizzes.js":3,"./modules/quiz-attempts.js":4,"./modules/tabs-toggle.js":5}],2:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.CONFIG = void 0;
var CONFIG = {
  apiBase: ms_lms_resturl,
  nonce: ms_lms_nonce,
  endpoints: {
    quizAttempts: "/quiz/attempts",
    enrolledQuizzes: "/enrolled-quizzes"
  },
  selectors: {
    quizHistory: {
      navigation: ".masterstudy-course-player-quiz-attempts-navigation",
      perPage: ".masterstudy-course-player-quiz-attempts-navigation__per-page",
      container: ".masterstudy-course-player-quiz-attempts",
      templateId: "masterstudy-course-player-quiz-attempts-template",
      pagination: ".masterstudy-course-player-quiz-attempts-navigation__pagination",
      prefix: ".masterstudy-course-player-quiz-attempt"
    },
    quizStandalone: {
      navigation: ".masterstudy-quiz-attempts-navigation",
      perPage: ".masterstudy-quiz-attempts-navigation__per-page",
      container: ".masterstudy-quiz-attempts",
      templateId: "masterstudy-quiz-attempts-template",
      pagination: ".masterstudy-quiz-attempts-navigation__pagination",
      prefix: ".masterstudy-quiz-attempt"
    },
    enrolledQuizzes: {
      navigation: ".masterstudy-enrolled-quizzes-navigation",
      perPage: ".masterstudy-enrolled-quizzes-navigation__per-page",
      container: ".masterstudy-enrolled-quizzes-container",
      templateId: "masterstudy-enrolled-quizzes-template",
      pagination: ".masterstudy-enrolled-quizzes-navigation__pagination",
      prefix: ".masterstudy-enrolled-quizzes-item"
    }
  }
};
exports.CONFIG = CONFIG;

},{}],3:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.EnrolledQuizzesModule = void 0;
var _config = require("./config.js");
var _utils = require("./utils.js");
window.$ = jQuery;
var EnrolledQuizzesModule = function () {
  var config = {
    selectors: _config.CONFIG.selectors.enrolledQuizzes,
    endpoint: _config.CONFIG.endpoints.enrolledQuizzes
  };
  var totalPages = 1;
  function fetchQuizzes() {
    var perPage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;
    var currentPage = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;
    var url = _config.CONFIG.apiBase + config.endpoint;
    var query = [];
    var $input = $('.masterstudy-enrolled-quizzes-search__input');
    var searchQuery = $input.length ? $input.val().trim() : '';
    if (searchQuery) query.push("s=".concat(encodeURIComponent(searchQuery)));
    if (perPage) query.push("per_page=".concat(perPage));
    if (currentPage) query.push("current_page=".concat(currentPage));
    if (query.length) url += "?".concat(query.join("&"));
    (0, _utils.updatePaginationView)(totalPages, currentPage);
    var $container = $(config.selectors.container);
    $('.masterstudy-enrolled-quizzes__course, .masterstudy-enrolled-quizzes-no-found__info', config.selectors.container).remove();
    $container.addClass("quizzes-loading");
    fetch(url, {
      headers: {
        "X-WP-Nonce": _config.CONFIG.nonce,
        "Content-Type": "application/json"
      }
    }).then(function (res) {
      return res.json();
    }).then(function (data) {
      $container.css("height", "auto").removeClass("quizzes-loading");
      $(".masterstudy-enrolled-quizzes .stm_lms_user_info_top h3").html(function (_, html) {
        return html.replace(/<span>.*<\/span>/, "") + " <span>".concat(data.total_quizzes, "</span>");
      });
      $('.masterstudy-enrolled-quizzes__course, .masterstudy-enrolled-quizzes-no-found__info', config.selectors.container).remove();
      updatePagination(data.pages, currentPage);
      if (!data.courses || data.courses.length === 0) {
        var template = document.getElementById('masterstudy-enrolled-quizzes-no-found-template');
        if (template) {
          var clone = template.content.cloneNode(true);
          $(config.selectors.navigation).hide();
          $(searchQuery ? '.masterstudy-enrolled-quizzes-no-found__items' : '.masterstudy-enrolled-quizzes-no-found__search', clone).remove();
          $container.append(clone);
        }
        return;
      }
      $(config.selectors.navigation).show();
      totalPages = data.pages;
      (data.courses || []).forEach(function (course) {
        var html = renderCourseTemplate(course);
        $container.append(html);
      });
    })["catch"](function (err) {
      console.error("Error fetching enrolled quizzes:", err);
      $container.css("height", "auto").removeClass("quizzes-loading");
    });
  }
  function renderCourseTemplate(course) {
    var template = document.getElementById(config.selectors.templateId);
    if (!template) return '';
    var clone = template.content.cloneNode(true);
    var courseLink = clone.querySelector('.masterstudy-enrolled-quizzes-course__link');
    courseLink.textContent = course.title;
    courseLink.href = course.url;
    var itemsContainer = clone.querySelector('.masterstudy-enrolled-quizzes-items');
    var itemTemplate = clone.querySelector('.masterstudy-enrolled-quizzes-item');
    itemsContainer.innerHTML = '';
    Object.values(course.quizzes || {}).forEach(function (quiz) {
      var item = itemTemplate.cloneNode(true);
      item.querySelector('.masterstudy-enrolled-quizzes-item__name--link').textContent = quiz.title;
      item.querySelector('.masterstudy-enrolled-quizzes-item__name--link').href = quiz.url;
      item.querySelector('.masterstudy-enrolled-quizzes-item__attempts').textContent = quiz.attempts.count;
      item.querySelector('.masterstudy-enrolled-quizzes-item__questions').textContent = quiz.questions;
      item.querySelector('.masterstudy-enrolled-quizzes-item__progress').dataset.quizProgress = quiz.progress;
      item.querySelector('.masterstudy-enrolled-quizzes-item__progress--filled').style.width = "".concat(quiz.progress, "%");
      item.querySelector('.masterstudy-enrolled-quizzes-item__progress--status').textContent = "".concat(quiz.grade);
      var statusEl = item.querySelector('.masterstudy-enrolled-quizzes-item__status');
      statusEl.textContent = quiz.status.label;
      statusEl.dataset.quizStatus = quiz.status.value;
      statusEl.classList.add(quiz.status.value);
      item.querySelector('.masterstudy-enrolled-quizzes-item__details').href = quiz.attempts.url;
      itemsContainer.appendChild(item);
    });
    return clone;
  }
  function updatePagination(totalPages, currentPage) {
    (0, _utils.renderPagination)({
      ajaxurl: stm_lms_ajaxurl,
      nonce: stm_lms_nonces.stm_lms_enrolled_quizzes,
      totalPages: totalPages,
      currentPage: currentPage,
      paginationContainer: config.selectors.pagination,
      onPageChange: fetchQuizzes,
      getPerPageSelector: function getPerPageSelector() {
        return '#enrolled-quizzes-per-page';
      }
    });
  }
  return {
    init: function init() {
      (0, _utils.bindPerPageHandler)($(config.selectors.prefix, config.selectors.container), config.selectors.perPage, fetchQuizzes);
      fetchQuizzes();
      initSearch();
    }
  };
  function initSearch() {
    var $input = $('.masterstudy-enrolled-quizzes-search__input');
    if (!$input.length) return;
    var timer;
    var lastQuery = '';
    $input.off("input").on("input", function () {
      clearTimeout(timer);
      timer = setTimeout(function () {
        var query = $input.val().trim();
        if (query !== lastQuery) {
          lastQuery = query;
          fetchQuizzes($("#enrolled-quizzes-per-page").val(), 1);
        }
      }, 300);
    });
  }
}();
exports.EnrolledQuizzesModule = EnrolledQuizzesModule;

},{"./config.js":2,"./utils.js":6}],4:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.QuizAttemptsModule = void 0;
var _config = require("./config.js");
var _utils = require("./utils.js");
window.$ = jQuery;
var QuizAttemptsModule = function () {
  var config = {
    mode: 'standalone',
    selectors: _config.CONFIG.selectors.quizStandalone,
    endpoint: _config.CONFIG.endpoints.quizAttempts
  };
  var totalPages = 1;
  function setMode(mode) {
    config.mode = mode;
    config.selectors = mode === 'history' ? _config.CONFIG.selectors.quizHistory : _config.CONFIG.selectors.quizStandalone;
  }
  function fetchAttempts() {
    var perPage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : undefined;
    var currentPage = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;
    var url = _config.CONFIG.apiBase + config.endpoint;
    var query = [];
    if (perPage) query.push("per_page=".concat(perPage));
    if (currentPage) query.push("current_page=".concat(currentPage));
    if (masterstudy_quiz_attempts.course_id) query.push("course_id=".concat(masterstudy_quiz_attempts.course_id));
    if (masterstudy_quiz_attempts.quiz_id) query.push("quiz_id=".concat(masterstudy_quiz_attempts.quiz_id));
    if (query.length) url += "?".concat(query.join("&"));
    (0, _utils.updatePaginationView)(totalPages, currentPage);
    var $container = $(config.selectors.container);
    $(config.selectors.prefix, $container).remove();
    $container.addClass("quiz-attempts-loading");
    fetch(url, {
      method: "GET",
      headers: {
        "X-WP-Nonce": _config.CONFIG.nonce,
        "Content-Type": "application/json"
      }
    }).then(function (res) {
      return res.json();
    }).then(function (data) {
      $container.css("height", "auto").removeClass("quiz-attempts-loading");
      $(config.selectors.prefix, $container).remove();
      totalPages = data.pages;
      updatePagination(data.pages, currentPage);
      (data.attempts || []).forEach(function (attempt) {
        var html = renderAttemptTemplate(attempt);
        $container.append(html);
      });
    })["catch"](function (err) {
      console.error("Error fetching quiz attempts:", err);
      $container.css("height", "auto").removeClass("quiz-attempts-loading");
    });
  }
  function renderAttemptTemplate(attempt) {
    var template = document.getElementById(config.selectors.templateId);
    if (!template) return '';
    var clone = template.content.cloneNode(true);
    var $ = function $(selector) {
      return clone.querySelector(selector);
    };
    var prefix = config.selectors.prefix;
    var date = $("".concat(prefix, "__date"));
    var selectorDate = date.getAttribute('data-header').replace('%s', attempt.number);
    $("".concat(prefix, "__number")).textContent = attempt.number;
    date.setAttribute('data-header', selectorDate);
    $("".concat(prefix, "__date--value")).textContent = attempt.created_at.date;
    $("".concat(prefix, "__date--time")).textContent = attempt.created_at.time;
    $("".concat(prefix, "__questions")).textContent = attempt.questions;
    $("".concat(prefix, "__correct")).textContent = attempt.attempts.correct;
    $("".concat(prefix, "__incorrect")).textContent = attempt.attempts.incorrect;
    $("".concat(prefix, "__progress")).setAttribute("data-quiz-progress", attempt.progress);
    $("".concat(prefix, "__progress--filled")).style.width = "".concat(attempt.progress, "%");
    $("".concat(prefix, "__grade")).textContent = "".concat(attempt.grade);
    $("".concat(prefix, "__status")).setAttribute("data-quiz-status", attempt.status.value);
    $("".concat(prefix, "__status")).textContent = attempt.status.label;
    $("".concat(prefix, "__status")).classList.add(attempt.status.value);
    $("".concat(prefix, "__details")).setAttribute("href", attempt.url);
    return clone;
  }
  function updatePagination(totalPages, currentPage) {
    (0, _utils.renderPagination)({
      ajaxurl: stm_lms_ajaxurl,
      nonce: stm_lms_nonces.stm_lms_enrolled_quizzes,
      totalPages: totalPages,
      currentPage: currentPage,
      paginationContainer: config.selectors.pagination,
      onPageChange: fetchAttempts,
      getPerPageSelector: function getPerPageSelector() {
        return '#quiz-attempts-per-page';
      }
    });
  }
  return {
    init: function init() {
      var mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'standalone';
      setMode(mode);
      (0, _utils.bindPerPageHandler)($(config.selectors.prefix, config.selectors.container), config.selectors.perPage, fetchAttempts);
      fetchAttempts();
    }
  };
}();
exports.QuizAttemptsModule = QuizAttemptsModule;

},{"./config.js":2,"./utils.js":6}],5:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.initTabsToggle = initTabsToggle;
var _quizAttempts = require("./quiz-attempts.js");
window.$ = jQuery;
function initTabsToggle() {
  var tabClass = "masterstudy-tabs__item";
  var activeClass = "masterstudy-tabs__item_active";
  var quizContent = ".masterstudy-course-player-content__header_quiz, .masterstudy-course-player-quiz, [data-id='quiz_alert']";
  var attemptsContent = ".masterstudy-course-player-quiz-attempts-wrapper";
  var beforeRequest = false;
  $(".".concat(tabClass, "[data-id]")).on("click", function () {
    var $this = $(this);
    var currentId = $this.data("id");
    var prevId = currentId === "quiz" ? "history" : "quiz";
    var toShow = currentId === "quiz" ? quizContent : attemptsContent;
    var toHide = currentId === "quiz" ? attemptsContent : quizContent;
    $("[data-id='".concat(prevId, "']")).removeClass(activeClass);
    $this.addClass(activeClass);
    $(toShow).removeClass("masterstudy-course-player-quiz__hide").show();
    $(toHide).addClass("masterstudy-course-player-quiz__hide");
    if (currentId === "history" && !beforeRequest) {
      beforeRequest = true;
      _quizAttempts.QuizAttemptsModule.init("history");
    }
  });
}

},{"./quiz-attempts.js":4}],6:[function(require,module,exports){
"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.attachPaginationClickHandlers = attachPaginationClickHandlers;
exports.bindPerPageHandler = bindPerPageHandler;
exports.renderPagination = renderPagination;
exports.updatePaginationView = updatePaginationView;
window.$ = jQuery;
function updatePaginationView(totalPages, currentPage) {
  $(".masterstudy-pagination__item").removeClass('masterstudy-pagination__item_current').hide();
  var start = Math.max(1, currentPage - 1);
  var end = Math.min(totalPages, currentPage + 1);
  if (currentPage === 1 || start === 1) end = Math.min(totalPages, start + 2);
  if (currentPage === totalPages || end === totalPages) start = Math.max(1, end - 2);
  for (var i = start; i <= end; i++) {
    $(".masterstudy-pagination__item:has([data-id=\"".concat(i, "\"])")).show();
  }
  $(".masterstudy-pagination__item-block[data-id=\"".concat(currentPage, "\"]")).parent().addClass('masterstudy-pagination__item_current');
  $(".masterstudy-pagination__button-next").toggle(currentPage < totalPages);
  $(".masterstudy-pagination__button-prev").toggle(currentPage > 1);
}
function attachPaginationClickHandlers(totalPages, onPageChange, getPerPageSelector) {
  $(".masterstudy-pagination__item-block").off("click").on("click", function () {
    if ($(this).parent().hasClass('masterstudy-pagination__item_current')) {
      return;
    }
    var page = $(this).data("id");
    onPageChange($(getPerPageSelector()).val(), page);
  });
  $(".masterstudy-pagination__button-prev").off("click").on("click", function () {
    var current = $(".masterstudy-pagination__item_current .masterstudy-pagination__item-block").data("id");
    if (current > 1) onPageChange($(getPerPageSelector()).val(), current - 1);
  });
  $(".masterstudy-pagination__button-next").off("click").on("click", function () {
    var current = $(".masterstudy-pagination__item_current .masterstudy-pagination__item-block").data("id");
    var total = $(".masterstudy-pagination__item-block").length;
    if (current < total) onPageChange($(getPerPageSelector()).val(), current + 1);
  });
}
function bindPerPageHandler(containerSelector, perPage, fetchFn) {
  $(".masterstudy-select__option, .masterstudy-select__clear", perPage).off("click").on("click", function () {
    $(containerSelector).remove();
    fetchFn($(this).data("value"));
  });
}
function renderPagination(_ref) {
  var ajaxurl = _ref.ajaxurl,
    nonce = _ref.nonce,
    totalPages = _ref.totalPages,
    currentPage = _ref.currentPage,
    paginationContainer = _ref.paginationContainer,
    onPageChange = _ref.onPageChange,
    getPerPageSelector = _ref.getPerPageSelector;
  $.post(ajaxurl, {
    action: "get_pagination",
    total_pages: totalPages,
    current_page: currentPage,
    _ajax_nonce: nonce
  }, function (response) {
    if (response.success) {
      var $nav = $(paginationContainer);
      $nav.toggle(totalPages > 1).html(response.data.pagination);
      attachPaginationClickHandlers(totalPages, onPageChange, getPerPageSelector);
      updatePaginationView(totalPages, currentPage);
    }
  });
}

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhc3NldHMvZXM2L2Vucm9sbGVkLXF1aXp6ZXMvaW5kZXguanMiLCJhc3NldHMvZXM2L2Vucm9sbGVkLXF1aXp6ZXMvbW9kdWxlcy9jb25maWcuanMiLCJhc3NldHMvZXM2L2Vucm9sbGVkLXF1aXp6ZXMvbW9kdWxlcy9lbnJvbGxlZC1xdWl6emVzLmpzIiwiYXNzZXRzL2VzNi9lbnJvbGxlZC1xdWl6emVzL21vZHVsZXMvcXVpei1hdHRlbXB0cy5qcyIsImFzc2V0cy9lczYvZW5yb2xsZWQtcXVpenplcy9tb2R1bGVzL3RhYnMtdG9nZ2xlLmpzIiwiYXNzZXRzL2VzNi9lbnJvbGxlZC1xdWl6emVzL21vZHVsZXMvdXRpbHMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7Ozs7QUNBQSxJQUFBLFdBQUEsR0FBQSxPQUFBO0FBQ0EsSUFBQSxhQUFBLEdBQUEsT0FBQTtBQUNBLElBQUEsZ0JBQUEsR0FBQSxPQUFBO0FBQ0EsSUFBQSxPQUFBLEdBQUEsT0FBQTtBQUE2QyxTQUFBLG9CQUFBLGtCQUY3QyxxSkFBQSxtQkFBQSxZQUFBLG9CQUFBLFdBQUEsT0FBQSxTQUFBLE9BQUEsT0FBQSxFQUFBLEdBQUEsTUFBQSxDQUFBLFNBQUEsRUFBQSxNQUFBLEdBQUEsRUFBQSxDQUFBLGNBQUEsRUFBQSxjQUFBLEdBQUEsTUFBQSxDQUFBLGNBQUEsY0FBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLElBQUEsSUFBQSxHQUFBLENBQUEsR0FBQSxJQUFBLElBQUEsQ0FBQSxLQUFBLEtBQUEsT0FBQSx3QkFBQSxNQUFBLEdBQUEsTUFBQSxPQUFBLGNBQUEsR0FBQSxPQUFBLENBQUEsUUFBQSxrQkFBQSxtQkFBQSxHQUFBLE9BQUEsQ0FBQSxhQUFBLHVCQUFBLGlCQUFBLEdBQUEsT0FBQSxDQUFBLFdBQUEsOEJBQUEsT0FBQSxHQUFBLEVBQUEsR0FBQSxFQUFBLEtBQUEsV0FBQSxNQUFBLENBQUEsY0FBQSxDQUFBLEdBQUEsRUFBQSxHQUFBLElBQUEsS0FBQSxFQUFBLEtBQUEsRUFBQSxVQUFBLE1BQUEsWUFBQSxNQUFBLFFBQUEsU0FBQSxHQUFBLENBQUEsR0FBQSxXQUFBLE1BQUEsbUJBQUEsR0FBQSxJQUFBLE1BQUEsWUFBQSxPQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxXQUFBLEdBQUEsQ0FBQSxHQUFBLElBQUEsS0FBQSxnQkFBQSxLQUFBLE9BQUEsRUFBQSxPQUFBLEVBQUEsSUFBQSxFQUFBLFdBQUEsUUFBQSxjQUFBLEdBQUEsT0FBQSxJQUFBLE9BQUEsQ0FBQSxTQUFBLFlBQUEsU0FBQSxHQUFBLE9BQUEsR0FBQSxTQUFBLEVBQUEsU0FBQSxHQUFBLE1BQUEsQ0FBQSxNQUFBLENBQUEsY0FBQSxDQUFBLFNBQUEsR0FBQSxPQUFBLE9BQUEsT0FBQSxDQUFBLFdBQUEsZ0JBQUEsY0FBQSxDQUFBLFNBQUEsZUFBQSxLQUFBLEVBQUEsZ0JBQUEsQ0FBQSxPQUFBLEVBQUEsSUFBQSxFQUFBLE9BQUEsTUFBQSxTQUFBLGFBQUEsU0FBQSxFQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsbUJBQUEsSUFBQSxZQUFBLEdBQUEsRUFBQSxFQUFBLENBQUEsSUFBQSxDQUFBLEdBQUEsRUFBQSxHQUFBLGNBQUEsR0FBQSxhQUFBLElBQUEsV0FBQSxHQUFBLEVBQUEsR0FBQSxRQUFBLE9BQUEsQ0FBQSxJQUFBLEdBQUEsSUFBQSxNQUFBLGdCQUFBLGdCQUFBLFVBQUEsY0FBQSxrQkFBQSxjQUFBLDJCQUFBLFNBQUEsaUJBQUEsT0FBQSxNQUFBLENBQUEsaUJBQUEsRUFBQSxjQUFBLHFDQUFBLFFBQUEsR0FBQSxNQUFBLENBQUEsY0FBQSxFQUFBLHVCQUFBLEdBQUEsUUFBQSxJQUFBLFFBQUEsQ0FBQSxRQUFBLENBQUEsTUFBQSxRQUFBLHVCQUFBLElBQUEsdUJBQUEsS0FBQSxFQUFBLElBQUEsTUFBQSxDQUFBLElBQUEsQ0FBQSx1QkFBQSxFQUFBLGNBQUEsTUFBQSxpQkFBQSxHQUFBLHVCQUFBLE9BQUEsRUFBQSxHQUFBLDBCQUFBLENBQUEsU0FBQSxHQUFBLFNBQUEsQ0FBQSxTQUFBLEdBQUEsTUFBQSxDQUFBLE1BQUEsQ0FBQSxpQkFBQSxZQUFBLHNCQUFBLFNBQUEsZ0NBQUEsT0FBQSxXQUFBLE1BQUEsSUFBQSxNQUFBLENBQUEsU0FBQSxFQUFBLE1BQUEsWUFBQSxHQUFBLGdCQUFBLE9BQUEsQ0FBQSxNQUFBLEVBQUEsR0FBQSxzQkFBQSxjQUFBLFNBQUEsRUFBQSxXQUFBLGFBQUEsT0FBQSxNQUFBLEVBQUEsR0FBQSxFQUFBLE9BQUEsRUFBQSxNQUFBLFFBQUEsTUFBQSxHQUFBLFFBQUEsQ0FBQSxTQUFBLENBQUEsTUFBQSxHQUFBLFNBQUEsRUFBQSxHQUFBLG1CQUFBLE1BQUEsQ0FBQSxJQUFBLFFBQUEsTUFBQSxHQUFBLE1BQUEsQ0FBQSxHQUFBLEVBQUEsS0FBQSxHQUFBLE1BQUEsQ0FBQSxLQUFBLFNBQUEsS0FBQSxnQkFBQSxPQUFBLENBQUEsS0FBQSxLQUFBLE1BQUEsQ0FBQSxJQUFBLENBQUEsS0FBQSxlQUFBLFdBQUEsQ0FBQSxPQUFBLENBQUEsS0FBQSxDQUFBLE9BQUEsRUFBQSxJQUFBLFdBQUEsS0FBQSxJQUFBLE1BQUEsU0FBQSxLQUFBLEVBQUEsT0FBQSxFQUFBLE1BQUEsZ0JBQUEsR0FBQSxJQUFBLE1BQUEsVUFBQSxHQUFBLEVBQUEsT0FBQSxFQUFBLE1BQUEsUUFBQSxXQUFBLENBQUEsT0FBQSxDQUFBLEtBQUEsRUFBQSxJQUFBLFdBQUEsU0FBQSxJQUFBLE1BQUEsQ0FBQSxLQUFBLEdBQUEsU0FBQSxFQUFBLE9BQUEsQ0FBQSxNQUFBLGdCQUFBLEtBQUEsV0FBQSxNQUFBLFVBQUEsS0FBQSxFQUFBLE9BQUEsRUFBQSxNQUFBLFNBQUEsTUFBQSxDQUFBLE1BQUEsQ0FBQSxHQUFBLFNBQUEsZUFBQSxFQUFBLGNBQUEsb0JBQUEsS0FBQSxXQUFBLE1BQUEsTUFBQSxFQUFBLEdBQUEsYUFBQSwyQkFBQSxlQUFBLFdBQUEsV0FBQSxPQUFBLEVBQUEsTUFBQSxJQUFBLE1BQUEsQ0FBQSxNQUFBLEVBQUEsR0FBQSxFQUFBLE9BQUEsRUFBQSxNQUFBLGdCQUFBLGVBQUEsR0FBQSxlQUFBLEdBQUEsZUFBQSxDQUFBLElBQUEsQ0FBQSwwQkFBQSxFQUFBLDBCQUFBLElBQUEsMEJBQUEscUJBQUEsaUJBQUEsT0FBQSxFQUFBLElBQUEsRUFBQSxPQUFBLFFBQUEsS0FBQSxzQ0FBQSxNQUFBLEVBQUEsR0FBQSx3QkFBQSxLQUFBLFlBQUEsS0FBQSxzREFBQSxLQUFBLG9CQUFBLE1BQUEsUUFBQSxHQUFBLFNBQUEsVUFBQSxXQUFBLE9BQUEsQ0FBQSxNQUFBLEdBQUEsTUFBQSxFQUFBLE9BQUEsQ0FBQSxHQUFBLEdBQUEsR0FBQSxVQUFBLFFBQUEsR0FBQSxPQUFBLENBQUEsUUFBQSxNQUFBLFFBQUEsUUFBQSxjQUFBLEdBQUEsbUJBQUEsQ0FBQSxRQUFBLEVBQUEsT0FBQSxPQUFBLGNBQUEsUUFBQSxjQUFBLEtBQUEsZ0JBQUEsbUJBQUEsY0FBQSxxQkFBQSxPQUFBLENBQUEsTUFBQSxFQUFBLE9BQUEsQ0FBQSxJQUFBLEdBQUEsT0FBQSxDQUFBLEtBQUEsR0FBQSxPQUFBLENBQUEsR0FBQSxzQkFBQSxPQUFBLENBQUEsTUFBQSw2QkFBQSxLQUFBLFFBQUEsS0FBQSxnQkFBQSxPQUFBLENBQUEsR0FBQSxFQUFBLE9BQUEsQ0FBQSxpQkFBQSxDQUFBLE9BQUEsQ0FBQSxHQUFBLHVCQUFBLE9BQUEsQ0FBQSxNQUFBLElBQUEsT0FBQSxDQUFBLE1BQUEsV0FBQSxPQUFBLENBQUEsR0FBQSxHQUFBLEtBQUEsb0JBQUEsTUFBQSxHQUFBLFFBQUEsQ0FBQSxPQUFBLEVBQUEsSUFBQSxFQUFBLE9BQUEsb0JBQUEsTUFBQSxDQUFBLElBQUEsUUFBQSxLQUFBLEdBQUEsT0FBQSxDQUFBLElBQUEsbUNBQUEsTUFBQSxDQUFBLEdBQUEsS0FBQSxnQkFBQSxxQkFBQSxLQUFBLEVBQUEsTUFBQSxDQUFBLEdBQUEsRUFBQSxJQUFBLEVBQUEsT0FBQSxDQUFBLElBQUEsa0JBQUEsTUFBQSxDQUFBLElBQUEsS0FBQSxLQUFBLGdCQUFBLE9BQUEsQ0FBQSxNQUFBLFlBQUEsT0FBQSxDQUFBLEdBQUEsR0FBQSxNQUFBLENBQUEsR0FBQSxtQkFBQSxvQkFBQSxRQUFBLEVBQUEsT0FBQSxRQUFBLFVBQUEsR0FBQSxPQUFBLENBQUEsTUFBQSxFQUFBLE1BQUEsR0FBQSxRQUFBLENBQUEsUUFBQSxDQUFBLFVBQUEsT0FBQSxTQUFBLEtBQUEsTUFBQSxTQUFBLE9BQUEsQ0FBQSxRQUFBLHFCQUFBLFVBQUEsSUFBQSxRQUFBLENBQUEsUUFBQSxlQUFBLE9BQUEsQ0FBQSxNQUFBLGFBQUEsT0FBQSxDQUFBLEdBQUEsR0FBQSxTQUFBLEVBQUEsbUJBQUEsQ0FBQSxRQUFBLEVBQUEsT0FBQSxlQUFBLE9BQUEsQ0FBQSxNQUFBLGtCQUFBLFVBQUEsS0FBQSxPQUFBLENBQUEsTUFBQSxZQUFBLE9BQUEsQ0FBQSxHQUFBLE9BQUEsU0FBQSx1Q0FBQSxVQUFBLGlCQUFBLGdCQUFBLE1BQUEsTUFBQSxHQUFBLFFBQUEsQ0FBQSxNQUFBLEVBQUEsUUFBQSxDQUFBLFFBQUEsRUFBQSxPQUFBLENBQUEsR0FBQSxtQkFBQSxNQUFBLENBQUEsSUFBQSxTQUFBLE9BQUEsQ0FBQSxNQUFBLFlBQUEsT0FBQSxDQUFBLEdBQUEsR0FBQSxNQUFBLENBQUEsR0FBQSxFQUFBLE9BQUEsQ0FBQSxRQUFBLFNBQUEsZ0JBQUEsTUFBQSxJQUFBLEdBQUEsTUFBQSxDQUFBLEdBQUEsU0FBQSxJQUFBLEdBQUEsSUFBQSxDQUFBLElBQUEsSUFBQSxPQUFBLENBQUEsUUFBQSxDQUFBLFVBQUEsSUFBQSxJQUFBLENBQUEsS0FBQSxFQUFBLE9BQUEsQ0FBQSxJQUFBLEdBQUEsUUFBQSxDQUFBLE9BQUEsZUFBQSxPQUFBLENBQUEsTUFBQSxLQUFBLE9BQUEsQ0FBQSxNQUFBLFdBQUEsT0FBQSxDQUFBLEdBQUEsR0FBQSxTQUFBLEdBQUEsT0FBQSxDQUFBLFFBQUEsU0FBQSxnQkFBQSxJQUFBLElBQUEsSUFBQSxPQUFBLENBQUEsTUFBQSxZQUFBLE9BQUEsQ0FBQSxHQUFBLE9BQUEsU0FBQSxzQ0FBQSxPQUFBLENBQUEsUUFBQSxTQUFBLGdCQUFBLGNBQUEsYUFBQSxJQUFBLFFBQUEsS0FBQSxLQUFBLE1BQUEsRUFBQSxJQUFBLFlBQUEsSUFBQSxLQUFBLEtBQUEsQ0FBQSxRQUFBLEdBQUEsSUFBQSxXQUFBLElBQUEsS0FBQSxLQUFBLENBQUEsVUFBQSxHQUFBLElBQUEsS0FBQSxLQUFBLENBQUEsUUFBQSxHQUFBLElBQUEsV0FBQSxVQUFBLENBQUEsSUFBQSxDQUFBLEtBQUEsY0FBQSxjQUFBLEtBQUEsUUFBQSxNQUFBLEdBQUEsS0FBQSxDQUFBLFVBQUEsUUFBQSxNQUFBLENBQUEsSUFBQSxvQkFBQSxNQUFBLENBQUEsR0FBQSxFQUFBLEtBQUEsQ0FBQSxVQUFBLEdBQUEsTUFBQSxhQUFBLFFBQUEsV0FBQSxTQUFBLFVBQUEsTUFBQSxNQUFBLGFBQUEsV0FBQSxDQUFBLE9BQUEsQ0FBQSxZQUFBLGNBQUEsS0FBQSxpQkFBQSxPQUFBLFFBQUEsUUFBQSxRQUFBLFFBQUEsY0FBQSxHQUFBLFFBQUEsQ0FBQSxjQUFBLE9BQUEsY0FBQSxTQUFBLGNBQUEsQ0FBQSxJQUFBLENBQUEsUUFBQSw0QkFBQSxRQUFBLENBQUEsSUFBQSxTQUFBLFFBQUEsT0FBQSxLQUFBLENBQUEsUUFBQSxDQUFBLE1BQUEsU0FBQSxDQUFBLE9BQUEsSUFBQSxZQUFBLEtBQUEsYUFBQSxDQUFBLEdBQUEsUUFBQSxDQUFBLE1BQUEsT0FBQSxNQUFBLENBQUEsSUFBQSxDQUFBLFFBQUEsRUFBQSxDQUFBLFVBQUEsSUFBQSxDQUFBLEtBQUEsR0FBQSxRQUFBLENBQUEsQ0FBQSxHQUFBLElBQUEsQ0FBQSxJQUFBLE9BQUEsSUFBQSxTQUFBLElBQUEsQ0FBQSxLQUFBLEdBQUEsU0FBQSxFQUFBLElBQUEsQ0FBQSxJQUFBLE9BQUEsSUFBQSxZQUFBLElBQUEsQ0FBQSxJQUFBLEdBQUEsSUFBQSxlQUFBLElBQUEsRUFBQSxVQUFBLGVBQUEsV0FBQSxhQUFBLEtBQUEsRUFBQSxTQUFBLEVBQUEsSUFBQSxpQkFBQSxpQkFBQSxDQUFBLFNBQUEsR0FBQSwwQkFBQSxFQUFBLGNBQUEsQ0FBQSxFQUFBLG1CQUFBLEtBQUEsRUFBQSwwQkFBQSxFQUFBLFlBQUEsU0FBQSxjQUFBLENBQUEsMEJBQUEsbUJBQUEsS0FBQSxFQUFBLGlCQUFBLEVBQUEsWUFBQSxTQUFBLGlCQUFBLENBQUEsV0FBQSxHQUFBLE1BQUEsQ0FBQSwwQkFBQSxFQUFBLGlCQUFBLHdCQUFBLE9BQUEsQ0FBQSxtQkFBQSxhQUFBLE1BQUEsUUFBQSxJQUFBLHdCQUFBLE1BQUEsSUFBQSxNQUFBLENBQUEsV0FBQSxXQUFBLElBQUEsS0FBQSxJQUFBLEtBQUEsaUJBQUEsNkJBQUEsSUFBQSxDQUFBLFdBQUEsSUFBQSxJQUFBLENBQUEsSUFBQSxPQUFBLE9BQUEsQ0FBQSxJQUFBLGFBQUEsTUFBQSxXQUFBLE1BQUEsQ0FBQSxjQUFBLEdBQUEsTUFBQSxDQUFBLGNBQUEsQ0FBQSxNQUFBLEVBQUEsMEJBQUEsS0FBQSxNQUFBLENBQUEsU0FBQSxHQUFBLDBCQUFBLEVBQUEsTUFBQSxDQUFBLE1BQUEsRUFBQSxpQkFBQSx5QkFBQSxNQUFBLENBQUEsU0FBQSxHQUFBLE1BQUEsQ0FBQSxNQUFBLENBQUEsRUFBQSxHQUFBLE1BQUEsS0FBQSxPQUFBLENBQUEsS0FBQSxhQUFBLEdBQUEsYUFBQSxPQUFBLEVBQUEsR0FBQSxPQUFBLHFCQUFBLENBQUEsYUFBQSxDQUFBLFNBQUEsR0FBQSxNQUFBLENBQUEsYUFBQSxDQUFBLFNBQUEsRUFBQSxtQkFBQSxpQ0FBQSxPQUFBLENBQUEsYUFBQSxHQUFBLGFBQUEsRUFBQSxPQUFBLENBQUEsS0FBQSxhQUFBLE9BQUEsRUFBQSxPQUFBLEVBQUEsSUFBQSxFQUFBLFdBQUEsRUFBQSxXQUFBLGVBQUEsV0FBQSxLQUFBLFdBQUEsR0FBQSxPQUFBLE9BQUEsSUFBQSxPQUFBLGFBQUEsQ0FBQSxJQUFBLENBQUEsT0FBQSxFQUFBLE9BQUEsRUFBQSxJQUFBLEVBQUEsV0FBQSxHQUFBLFdBQUEsVUFBQSxPQUFBLENBQUEsbUJBQUEsQ0FBQSxPQUFBLElBQUEsSUFBQSxHQUFBLElBQUEsQ0FBQSxJQUFBLEdBQUEsSUFBQSxXQUFBLE1BQUEsV0FBQSxNQUFBLENBQUEsSUFBQSxHQUFBLE1BQUEsQ0FBQSxLQUFBLEdBQUEsSUFBQSxDQUFBLElBQUEsV0FBQSxxQkFBQSxDQUFBLEVBQUEsR0FBQSxNQUFBLENBQUEsRUFBQSxFQUFBLGlCQUFBLGdCQUFBLE1BQUEsQ0FBQSxFQUFBLEVBQUEsY0FBQSxpQ0FBQSxNQUFBLENBQUEsRUFBQSw2REFBQSxPQUFBLENBQUEsSUFBQSxhQUFBLEdBQUEsUUFBQSxNQUFBLEdBQUEsTUFBQSxDQUFBLEdBQUEsR0FBQSxJQUFBLGdCQUFBLEdBQUEsSUFBQSxNQUFBLEVBQUEsSUFBQSxDQUFBLElBQUEsQ0FBQSxHQUFBLFVBQUEsSUFBQSxDQUFBLE9BQUEsYUFBQSxLQUFBLFdBQUEsSUFBQSxDQUFBLE1BQUEsU0FBQSxHQUFBLEdBQUEsSUFBQSxDQUFBLEdBQUEsUUFBQSxHQUFBLElBQUEsTUFBQSxTQUFBLElBQUEsQ0FBQSxLQUFBLEdBQUEsR0FBQSxFQUFBLElBQUEsQ0FBQSxJQUFBLE9BQUEsSUFBQSxXQUFBLElBQUEsQ0FBQSxJQUFBLE9BQUEsSUFBQSxRQUFBLE9BQUEsQ0FBQSxNQUFBLEdBQUEsTUFBQSxFQUFBLE9BQUEsQ0FBQSxTQUFBLEtBQUEsV0FBQSxFQUFBLE9BQUEsRUFBQSxLQUFBLFdBQUEsTUFBQSxhQUFBLGFBQUEsSUFBQSxXQUFBLElBQUEsV0FBQSxJQUFBLFFBQUEsS0FBQSxHQUFBLFNBQUEsT0FBQSxJQUFBLFlBQUEsUUFBQSxjQUFBLE1BQUEsZ0JBQUEsR0FBQSxHQUFBLFNBQUEsT0FBQSxVQUFBLENBQUEsT0FBQSxDQUFBLGFBQUEsSUFBQSxhQUFBLFdBQUEsSUFBQSxrQkFBQSxJQUFBLENBQUEsTUFBQSxPQUFBLE1BQUEsQ0FBQSxJQUFBLE9BQUEsSUFBQSxNQUFBLEtBQUEsRUFBQSxJQUFBLENBQUEsS0FBQSxjQUFBLElBQUEsSUFBQSxTQUFBLE1BQUEsSUFBQSxXQUFBLEtBQUEsU0FBQSxJQUFBLFdBQUEsVUFBQSxRQUFBLFVBQUEsSUFBQSxVQUFBLGtCQUFBLFVBQUEsQ0FBQSxJQUFBLFFBQUEsVUFBQSxDQUFBLEdBQUEsY0FBQSxJQUFBLEtBQUEsaUJBQUEsV0FBQSxrQkFBQSxTQUFBLGFBQUEsSUFBQSxRQUFBLFNBQUEsTUFBQSxPQUFBLGtCQUFBLE9BQUEsR0FBQSxFQUFBLE1BQUEsV0FBQSxNQUFBLENBQUEsSUFBQSxZQUFBLE1BQUEsQ0FBQSxHQUFBLEdBQUEsU0FBQSxFQUFBLE9BQUEsQ0FBQSxJQUFBLEdBQUEsR0FBQSxFQUFBLE1BQUEsS0FBQSxPQUFBLENBQUEsTUFBQSxXQUFBLE9BQUEsQ0FBQSxHQUFBLEdBQUEsU0FBQSxLQUFBLE1BQUEsYUFBQSxDQUFBLFFBQUEsVUFBQSxDQUFBLE1BQUEsTUFBQSxDQUFBLFNBQUEsQ0FBQSxRQUFBLEtBQUEsUUFBQSxVQUFBLENBQUEsQ0FBQSxHQUFBLE1BQUEsR0FBQSxLQUFBLENBQUEsVUFBQSxpQkFBQSxLQUFBLENBQUEsTUFBQSxTQUFBLE1BQUEsYUFBQSxLQUFBLENBQUEsTUFBQSxTQUFBLElBQUEsUUFBQSxRQUFBLEdBQUEsTUFBQSxDQUFBLElBQUEsQ0FBQSxLQUFBLGVBQUEsVUFBQSxHQUFBLE1BQUEsQ0FBQSxJQUFBLENBQUEsS0FBQSxxQkFBQSxRQUFBLElBQUEsVUFBQSxhQUFBLElBQUEsR0FBQSxLQUFBLENBQUEsUUFBQSxTQUFBLE1BQUEsQ0FBQSxLQUFBLENBQUEsUUFBQSxnQkFBQSxJQUFBLEdBQUEsS0FBQSxDQUFBLFVBQUEsU0FBQSxNQUFBLENBQUEsS0FBQSxDQUFBLFVBQUEsY0FBQSxRQUFBLGFBQUEsSUFBQSxHQUFBLEtBQUEsQ0FBQSxRQUFBLFNBQUEsTUFBQSxDQUFBLEtBQUEsQ0FBQSxRQUFBLHFCQUFBLFVBQUEsWUFBQSxLQUFBLHFEQUFBLElBQUEsR0FBQSxLQUFBLENBQUEsVUFBQSxTQUFBLE1BQUEsQ0FBQSxLQUFBLENBQUEsVUFBQSxZQUFBLE1BQUEsV0FBQSxPQUFBLElBQUEsRUFBQSxHQUFBLGFBQUEsQ0FBQSxRQUFBLFVBQUEsQ0FBQSxNQUFBLE1BQUEsQ0FBQSxTQUFBLENBQUEsUUFBQSxLQUFBLFFBQUEsVUFBQSxDQUFBLENBQUEsT0FBQSxLQUFBLENBQUEsTUFBQSxTQUFBLElBQUEsSUFBQSxNQUFBLENBQUEsSUFBQSxDQUFBLEtBQUEsd0JBQUEsSUFBQSxHQUFBLEtBQUEsQ0FBQSxVQUFBLFFBQUEsWUFBQSxHQUFBLEtBQUEsYUFBQSxZQUFBLGlCQUFBLElBQUEsbUJBQUEsSUFBQSxLQUFBLFlBQUEsQ0FBQSxNQUFBLElBQUEsR0FBQSxJQUFBLEdBQUEsSUFBQSxZQUFBLENBQUEsVUFBQSxLQUFBLFlBQUEsY0FBQSxNQUFBLEdBQUEsWUFBQSxHQUFBLFlBQUEsQ0FBQSxVQUFBLGNBQUEsTUFBQSxDQUFBLElBQUEsR0FBQSxJQUFBLEVBQUEsTUFBQSxDQUFBLEdBQUEsR0FBQSxHQUFBLEVBQUEsWUFBQSxTQUFBLE1BQUEsZ0JBQUEsSUFBQSxHQUFBLFlBQUEsQ0FBQSxVQUFBLEVBQUEsZ0JBQUEsU0FBQSxRQUFBLENBQUEsTUFBQSxNQUFBLFFBQUEsV0FBQSxTQUFBLE1BQUEsRUFBQSxRQUFBLG9CQUFBLE1BQUEsQ0FBQSxJQUFBLFFBQUEsTUFBQSxDQUFBLEdBQUEscUJBQUEsTUFBQSxDQUFBLElBQUEsbUJBQUEsTUFBQSxDQUFBLElBQUEsUUFBQSxJQUFBLEdBQUEsTUFBQSxDQUFBLEdBQUEsZ0JBQUEsTUFBQSxDQUFBLElBQUEsU0FBQSxJQUFBLFFBQUEsR0FBQSxHQUFBLE1BQUEsQ0FBQSxHQUFBLE9BQUEsTUFBQSxrQkFBQSxJQUFBLHlCQUFBLE1BQUEsQ0FBQSxJQUFBLElBQUEsUUFBQSxVQUFBLElBQUEsR0FBQSxRQUFBLEdBQUEsZ0JBQUEsS0FBQSxNQUFBLFdBQUEsT0FBQSxVQUFBLGFBQUEsQ0FBQSxRQUFBLFVBQUEsQ0FBQSxNQUFBLE1BQUEsQ0FBQSxTQUFBLENBQUEsUUFBQSxLQUFBLFFBQUEsVUFBQSxDQUFBLENBQUEsT0FBQSxLQUFBLENBQUEsVUFBQSxLQUFBLFVBQUEsY0FBQSxRQUFBLENBQUEsS0FBQSxDQUFBLFVBQUEsRUFBQSxLQUFBLENBQUEsUUFBQSxHQUFBLGFBQUEsQ0FBQSxLQUFBLEdBQUEsZ0JBQUEseUJBQUEsT0FBQSxNQUFBLGFBQUEsQ0FBQSxRQUFBLFVBQUEsQ0FBQSxNQUFBLE1BQUEsQ0FBQSxTQUFBLENBQUEsUUFBQSxLQUFBLFFBQUEsVUFBQSxDQUFBLENBQUEsT0FBQSxLQUFBLENBQUEsTUFBQSxLQUFBLE1BQUEsUUFBQSxNQUFBLEdBQUEsS0FBQSxDQUFBLFVBQUEsa0JBQUEsTUFBQSxDQUFBLElBQUEsUUFBQSxNQUFBLEdBQUEsTUFBQSxDQUFBLEdBQUEsRUFBQSxhQUFBLENBQUEsS0FBQSxZQUFBLE1BQUEsZ0JBQUEsS0FBQSw4QkFBQSxhQUFBLFdBQUEsY0FBQSxRQUFBLEVBQUEsVUFBQSxFQUFBLE9BQUEsZ0JBQUEsUUFBQSxLQUFBLFFBQUEsRUFBQSxNQUFBLENBQUEsUUFBQSxHQUFBLFVBQUEsRUFBQSxVQUFBLEVBQUEsT0FBQSxFQUFBLE9BQUEsb0JBQUEsTUFBQSxVQUFBLEdBQUEsR0FBQSxTQUFBLEdBQUEsZ0JBQUEsT0FBQSxPQUFBO0FBQUEsU0FBQSxtQkFBQSxHQUFBLEVBQUEsT0FBQSxFQUFBLE1BQUEsRUFBQSxLQUFBLEVBQUEsTUFBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLGNBQUEsSUFBQSxHQUFBLEdBQUEsQ0FBQSxHQUFBLEVBQUEsR0FBQSxPQUFBLEtBQUEsR0FBQSxJQUFBLENBQUEsS0FBQSxXQUFBLEtBQUEsSUFBQSxNQUFBLENBQUEsS0FBQSxpQkFBQSxJQUFBLENBQUEsSUFBQSxJQUFBLE9BQUEsQ0FBQSxLQUFBLFlBQUEsT0FBQSxDQUFBLE9BQUEsQ0FBQSxLQUFBLEVBQUEsSUFBQSxDQUFBLEtBQUEsRUFBQSxNQUFBO0FBQUEsU0FBQSxrQkFBQSxFQUFBLDZCQUFBLElBQUEsU0FBQSxJQUFBLEdBQUEsU0FBQSxhQUFBLE9BQUEsV0FBQSxPQUFBLEVBQUEsTUFBQSxRQUFBLEdBQUEsR0FB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a0JBQWtCLEdBQUEsSUFBQSxDQUFsQixrQkFBa0I7RUFFbEIsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLEVBQUU7SUFDWixNQUFNLEVBQUUsZ0JBQWdCO0lBQ3hCLFdBQVcsRUFBRSxVQUFVO0lBQ3ZCLFlBQVksRUFBRSxXQUFXO0lBQ3pCLFdBQVcsRUFBRTtFQUNqQixDQUFDLEVBQUUsVUFBVSxRQUFRLEVBQUU7SUFDbkIsSUFBSSxRQUFRLENBQUMsT0FBTyxFQUFFO01BQ2xCLElBQU0sSUFBSSxHQUFHLENBQUMsQ0FBQyxtQkFBbUIsQ0FBQztNQUNuQyxJQUFJLENBQUMsTUFBTSxDQUFDLFVBQVUsR0FBRyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUM7TUFDMUQsNkJBQTZCLENBQUMsVUFBVSxFQUFFLFlBQVksRUFBRSxrQkFBa0IsQ0FBQztNQUMzRSxvQkFBb0IsQ0FBQyxVQUFVLEVBQUUsV0FBVyxDQUFDO0lBQ2pEO0VBQ0osQ0FBQyxDQUFDO0FBQ04iLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJpbXBvcnQgeyBpbml0VGFic1RvZ2dsZSB9IGZyb20gJy4vbW9kdWxlcy90YWJzLXRvZ2dsZS5qcyc7XG5pbXBvcnQgeyBRdWl6QXR0ZW1wdHNNb2R1bGUgfSBmcm9tICcuL21vZHVsZXMvcXVpei1hdHRlbXB0cy5qcyc7XG5pbXBvcnQgeyBFbnJvbGxlZFF1aXp6ZXNNb2R1bGUgfSBmcm9tICcuL21vZHVsZXMvZW5yb2xsZWQtcXVpenplcy5qcyc7XG5pbXBvcnQgeyBDT05GSUcgfSBmcm9tICcuL21vZHVsZXMvY29uZmlnLmpzJztcbndpbmRvdy4kID0galF1ZXJ5O1xuXG4kKGRvY3VtZW50KS5yZWFkeShhc3luYyBmdW5jdGlvbiAoKSB7XG4gICAgaW5pdFRhYnNUb2dnbGUoKTtcbiAgICBpZiAoIHR5cGVvZiBtYXN0ZXJzdHVkeV9xdWl6X2F0dGVtcHRzICE9PSBcInVuZGVmaW5lZFwiICYmICQoIENPTkZJRy5zZWxlY3RvcnMucXVpelN0YW5kYWxvbmUuY29udGFpbmVyICkubGVuZ3RoICkge1xuICAgICAgICBRdWl6QXR0ZW1wdHNNb2R1bGUuaW5pdCgnc3RhbmRhbG9uZScpO1xuICAgIH1cbiAgICBpZiAoICQoICcubWFzdGVyc3R1ZHktZW5yb2xsZWQtcXVpenplcy1jb250YWluZXInICkubGVuZ3RoICkge1xuICAgICAgICBFbnJvbGxlZFF1aXp6ZXNNb2R1bGUuaW5pdCgpO1xuICAgIH1cbn0pO1xuIiwiZXhwb3J0IGNvbnN0IENPTkZJRyA9IHtcbiAgICBhcGlCYXNlOiBtc19sbXNfcmVzdHVybCxcbiAgICBub25jZTogbXNfbG1zX25vbmNlLFxuXG4gICAgZW5kcG9pbnRzOiB7XG4gICAgICAgIHF1aXpBdHRlbXB0czogXCIvcXVpei9hdHRlbXB0c1wiLFxuICAgICAgICBlbnJvbGxlZFF1aXp6ZXM6IFwiL2Vucm9sbGVkLXF1aXp6ZXNcIixcbiAgICB9LFxuXG4gICAgc2VsZWN0b3JzOiB7XG4gICAgICAgIHF1aXpIaXN0b3J5OiB7XG4gICAgICAgICAgICBuYXZpZ2F0aW9uOiBcIi5tYXN0ZXJzdHVkeS1jb3Vyc2UtcGxheWVyLXF1aXotYXR0ZW1wdHMtbmF2aWdhdGlvblwiLFxuICAgICAgICAgICAgcGVyUGFnZTogXCIubWFzdGVyc3R1ZHktY291cnNlLXBsYXllci1xdWl6LWF0dGVtcHRzLW5hdmlnYXRpb25fX3Blci1wYWdlXCIsXG4gICAgICAgICAgICBjb250YWluZXI6IFwiLm1hc3RlcnN0dWR5LWNvdXJzZS1wbGF5ZXItcXVpei1hdHRlbXB0c1wiLFxuICAgICAgICAgICAgdGVtcGxhdGVJZDogXCJtYXN0ZXJzdHVkeS1jb3Vyc2UtcGxheWVyLXF1aXotYXR0ZW1wdHMtdGVtcGxhdGVcIixcbiAgICAgICAgICAgIHBhZ2luYXRpb246IFwiLm1hc3RlcnN0dWR5LWNvdXJzZS1wbGF5ZXItcXVpei1hdHRlbXB0cy1uYXZpZ2F0aW9uX19wYWdpbmF0aW9uXCIsXG4gICAgICAgICAgICBwcmVmaXg6IFwiLm1hc3RlcnN0dWR5LWNvdXJzZS1wbGF5ZXItcXVpei1hdHRlbXB0XCIsXG4gICAgICAgIH0sXG4gICAgICAgIHF1aXpTdGFuZGFsb25lOiB7XG4gICAgICAgICAgICBuYXZpZ2F0aW9uOiBcIi5tYXN0ZXJzdHVkeS1xdWl6LWF0dGVtcHRzLW5hdmlnYXRpb25cIixcbiAgICAgICAgICAgIHBlclBhZ2U6IFwiLm1hc3RlcnN0dWR5LXF1aXotYXR0ZW1wdHMtbmF2aWdhdGlvbl9fcGVyLXBhZ2VcIixcbiAgICAgICAgICAgIGNvbnRhaW5lcjogXCIubWFzdGVyc3R1ZHktcXVpei1hdHRlbXB0c1wiLFxuICAgICAgICAgICAgdGVtcGxhdGVJZDogXCJtYXN0ZXJzdHVkeS1xdWl6LWF0dGVtcHRzLXRlbXBsYXRlXCIsXG4gICAgICAgICAgICBwYWdpbmF0aW9uOiBcIi5tYXN0ZXJzdHVkeS1xdWl6LWF0dGVtcHRzLW5hdmlnYXRpb25fX3BhZ2luYXRpb25cIixcbiAgICAgICAgICAgIHByZWZpeDogXCIubWFzdGVyc3R1ZHktcXVpei1hdHRlbXB0XCJcbiAgICAgICAgfSxcbiAgICAgICAgZW5yb2xsZWRRdWl6emVzOiB7XG4gICAgICAgICAgICBuYXZpZ2F0aW9uOiBcIi5tYXN0ZXJzdHVkeS1lbnJvbGxlZC1xdWl6emVzLW5hdmlnYXRpb25cIixcbiAgICAgICAgICAgIHBlclBhZ2U6IFwiLm1hc3RlcnN0dWR5LWVucm9sbGVkLXF1aXp6ZXMtbmF2aWdhdGlvbl9fcGVyLXBhZ2VcIixcbiAgICAgICAgICAgIGNvbnRhaW5lcjogXCIubWFzdGVyc3R1ZHktZW5yb2xsZWQtcXVpenplcy1jb250YWluZXJcIixcbiAgICAgICAgICAgIHRlbXBsYXRlSWQ6IFwibWFzdGVyc3R1ZHktZW5yb2xsZWQtcXVpenplcy10ZW1wbGF0ZVwiLFxuICAgICAgICAgICAgcGFnaW5hdGlvbjogXCIubWFzdGVyc3R1ZHktZW5yb2xsZWQtcXVpenplcy1uYXZpZ2F0aW9uX19wYWdpbmF0aW9uXCIsXG4gICAgICAgICAgICBwcmVmaXg6IFwiLm1hc3RlcnN0dWR5LWVucm9sbGVkLXF1aXp6ZXMtaXRlbVwiXG4gICAgICAgIH1cbiAgICB9XG59O1xuIiwiaW1wb3J0IHsgQ09ORklHIH0gZnJvbSAnLi9jb25maWcuanMnO1xuaW1wb3J0IHtiaW5kUGVyUGFnZUhhbmRsZXIsIHJlbmRlclBhZ2luYXRpb24sIHVwZGF0ZVBhZ2luYXRpb25WaWV3fSBmcm9tICcuL3V0aWxzLmpzJztcbndpbmRvdy4kID0galF1ZXJ5O1xuXG5leHBvcnQgY29uc3QgRW5yb2xsZWRRdWl6emVzTW9kdWxlID0gKGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCBjb25maWcgPSB7XG4gICAgICAgIHNlbGVjdG9yczogQ09ORklHLnNlbGVjdG9ycy5lbnJvbGxlZFF1aXp6ZXMsXG4gICAgICAgIGVuZHBvaW50OiBDT05GSUcuZW5kcG9pbnRzLmVucm9sbGVkUXVpenplcyxcbiAgICB9O1xuICAgIGxldCB0b3RhbFBhZ2VzID0gMTtcblxuICAgIGZ1bmN0aW9uIGZldGNoUXVpenplcyhwZXJQYWdlID0gdW5kZWZpbmVkLCBjdXJyZW50UGFnZSA9IDEpIHtcbiAgICAgICAgbGV0IHVybCA9IENPTkZJRy5hcGlCYXNlICsgY29uZmlnLmVuZHBvaW50O1xuICAgICAgICBjb25zdCBxdWVyeSA9IFtdO1xuICAgICAgICBjb25zdCAkaW5wdXQgPSAkKCcubWFzdGVyc3R1ZHktZW5yb2xsZWQtcXVpenplcy1zZWFyY2hfX2lucHV0Jyk7XG4gICAgICAgIGNvbnN0IHNlYXJjaFF1ZXJ5ID0gJGlucHV0Lmxlbmd0aCA/ICRpbnB1dC52YWwoKS50cmltKCkgOiAnJztcblxuICAgICAgICBpZiAoc2VhcmNoUXVlcnkpIHF1ZXJ5LnB1c2goYHM9JHtlbmNvZGVVUklDb21wb25lbnQoc2VhcmNoUXVlcnkpfWApO1xuICAgICAgICBpZiAocGVyUGFnZSkgcXVlcnkucHVzaChgcGVyX3BhZ2U9JHtwZXJQYWdlfWApO1xuICAgICAgICBpZiAoY3VycmVudFBhZ2UpIHF1ZXJ5LnB1c2goYGN1cnJlbnRfcGFnZT0ke2N1cnJlbnRQYWdlfWApO1xuICAgICAgICBpZiAocXVlcnkubGVuZ3RoKSB1cmwgKz0gYD8ke3F1ZXJ5LmpvaW4oXCImXCIpfWA7XG5cbiAgICAgICAgdXBkYXRlUGFnaW5hdGlvblZpZXcoIHRvdGFsUGFnZXMsIGN1cnJlbnRQYWdlICk7XG5cbiAgICAgICAgY29uc3QgJGNvbnRhaW5lciA9ICQoY29uZmlnLnNlbGVjdG9ycy5jb250YWluZXIpO1xuXG4gICAgICAgICQoICcubWFzdGVyc3R1ZHktZW5yb2xsZWQtcXVpenplc19fY291cnNlLCAubWFzdGVyc3R1ZHktZW5yb2xsZWQtcXVpenplcy1uby1mb3VuZF9faW5mbycsIGNvbmZpZy5zZWxlY3RvcnMuY29udGFpbmVyICkucmVtb3ZlKCk7XG5cbiAgICAgICAgJGNvbnRhaW5lci5hZGRDbGFzcyhcInF1aXp6ZXMtbG9hZGluZ1wiKTtcblxuICAgICAgICBmZXRjaCh1cmwsIHtcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBcIlgtV1AtTm9uY2VcIjogQ09ORklHLm5vbmNlLFxuICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXG4gICAgICAgIC50aGVuKGRhdGEgPT4ge1xuICAgICAgICAgICAgJGNvbnRhaW5lci5jc3MoXCJoZWlnaHRcIiwgXCJhdXRvXCIpLnJlbW92ZUNsYXNzKFwicXVpenplcy1sb2FkaW5nXCIpO1xuICAgICAgICAgICAgJChcIi5tYXN0ZXJzdHVkeS1lbnJvbGxlZC1xdWl6emVzIC5zdG1fbG1zX3VzZXJfaW5mb190b3AgaDNcIikuaHRtbChmdW5jdGlvbiAoXywgaHRtbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBodG1sLnJlcGxhY2UoLzxzcGFuPi4qPFxcL3NwYW4+LywgXCJcIikgKyBgIDxzcGFuPiR7ZGF0YS50b3RhbF9xdWl6emVzfTwvc3Bhbj5gO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICQoICcubWFzdGVyc3R1ZHktZW5yb2xsZWQtcXVpenplc19fY291cnNlLCAubWFzdGVyc3R1ZHktZW5yb2xsZWQtcXVpenplcy1uby1mb3VuZF9faW5mbycsIGNvbmZpZy5zZWxlY3RvcnMuY29udGFpbmVyICkucmVtb3ZlKCk7XG5cbiAgICAgICAgICAgIHVwZGF0ZVBhZ2luYXRpb24oZGF0YS5wYWdlcywgY3VycmVudFBhZ2UpO1xuXG4gICAgICAgICAgICBpZiAoIWRhdGEuY291cnNlcyB8fCBkYXRhLmNvdXJzZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGVtcGxhdGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFzdGVyc3R1ZHktZW5yb2xsZWQtcXVpenplcy1uby1mb3VuZC10ZW1wbGF0ZScpO1xuICAgICAgICAgICAgICAgIGlmICggdGVtcGxhdGUgKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNsb25lID0gdGVtcGxhdGUuY29udGVudC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICQoIGNvbmZpZy5zZWxlY3RvcnMubmF2aWdhdGlvbiApLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgJCggc2VhcmNoUXVlcnkgPyAnLm1hc3RlcnN0dWR5LWVucm9sbGVkLXF1aXp6ZXMtbm8tZm91bmRfX2l0ZW1zJyA6ICcubWFzdGVyc3R1ZHktZW5yb2xsZWQtcXVpenplcy1uby1mb3VuZF9fc2VhcmNoJywgY2xvbmUgKS5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgJGNvbnRhaW5lci5hcHBlbmQoY2xvbmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICQoIGNvbmZpZy5zZWxlY3RvcnMubmF2aWdhdGlvbiApLnNob3coKTtcblxuICAgICAgICAgICAgdG90YWxQYWdlcyA9IGRhdGEucGFnZXM7XG4gICAgICAgICAgICAoZGF0YS5jb3Vyc2VzIHx8IFtdKS5mb3JFYWNoKGNvdXJzZSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaHRtbCA9IHJlbmRlckNvdXJzZVRlbXBsYXRlKGNvdXJzZSk7XG4gICAgICAgICAgICAgICAgJGNvbnRhaW5lci5hcHBlbmQoaHRtbCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3IgZmV0Y2hpbmcgZW5yb2xsZWQgcXVpenplczpcIiwgZXJyKTtcbiAgICAgICAgICAgICRjb250YWluZXIuY3NzKFwiaGVpZ2h0XCIsIFwiYXV0b1wiKS5yZW1vdmVDbGFzcyhcInF1aXp6ZXMtbG9hZGluZ1wiKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVuZGVyQ291cnNlVGVtcGxhdGUoY291cnNlKSB7XG4gICAgICAgIGNvbnN0IHRlbXBsYXRlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY29uZmlnLnNlbGVjdG9ycy50ZW1wbGF0ZUlkKTtcbiAgICAgICAgaWYgKCF0ZW1wbGF0ZSkgcmV0dXJuICcnO1xuICAgICAgICBjb25zdCBjbG9uZSA9IHRlbXBsYXRlLmNvbnRlbnQuY2xvbmVOb2RlKHRydWUpO1xuXG4gICAgICAgIGNvbnN0IGNvdXJzZUxpbmsgPSBjbG9uZS5xdWVyeVNlbGVjdG9yKCcubWFzdGVyc3R1ZHktZW5yb2xsZWQtcXVpenplcy1jb3Vyc2VfX2xpbmsnKTtcbiAgICAgICAgY291cnNlTGluay50ZXh0Q29udGVudCA9IGNvdXJzZS50aXRsZTtcbiAgICAgICAgY291cnNlTGluay5ocmVmID0gY291cnNlLnVybDtcblxuICAgICAgICBjb25zdCBpdGVtc0NvbnRhaW5lciA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJy5tYXN0ZXJzdHVkeS1lbnJvbGxlZC1xdWl6emVzLWl0ZW1zJyk7XG4gICAgICAgIGNvbnN0IGl0ZW1UZW1wbGF0ZSA9IGNsb25lLnF1ZXJ5U2VsZWN0b3IoJy5tYXN0ZXJzdHVkeS1lbnJvbGxlZC1xdWl6emVzLWl0ZW0nKTtcblxuICAgICAgICBpdGVtc0NvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgT2JqZWN0LnZhbHVlcyhjb3Vyc2UucXVpenplcyB8fCB7fSkuZm9yRWFjaChxdWl6ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW0gPSBpdGVtVGVtcGxhdGUuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICAgICAgaXRlbS5xdWVyeVNlbGVjdG9yKCcubWFzdGVyc3R1ZHktZW5yb2xsZWQtcXVpenplcy1pdGVtX19uYW1lLS1saW5rJykudGV4dENvbnRlbnQgPSBxdWl6LnRpdGxlO1xuICAgICAgICAgICAgaXRlbS5xdWVyeVNlbGVjdG9yKCcubWFzdGVyc3R1ZHktZW5yb2xsZWQtcXVpenplcy1pdGVtX19uYW1lLS1saW5rJykuaHJlZiA9IHF1aXoudXJsO1xuICAgICAgICAgICAgaXRlbS5xdWVyeVNlbGVjdG9yKCcubWFzdGVyc3R1ZHktZW5yb2xsZWQtcXVpenplcy1pdGVtX19hdHRlbXB0cycpLnRleHRDb250ZW50ID0gcXVpei5hdHRlbXB0cy5jb3VudDtcbiAgICAgICAgICAgIGl0ZW0ucXVlcnlTZWxlY3RvcignLm1hc3RlcnN0dWR5LWVucm9sbGVkLXF1aXp6ZXMtaXRlbV9fcXVlc3Rpb25zJykudGV4dENvbnRlbnQgPSBxdWl6LnF1ZXN0aW9ucztcbiAgICAgICAgICAgIGl0ZW0ucXVlcnlTZWxlY3RvcignLm1hc3RlcnN0dWR5LWVucm9sbGVkLXF1aXp6ZXMtaXRlbV9fcHJvZ3Jlc3MnKS5kYXRhc2V0LnF1aXpQcm9ncmVzcyA9IHF1aXoucHJvZ3Jlc3M7XG4gICAgICAgICAgICBpdGVtLnF1ZXJ5U2VsZWN0b3IoJy5tYXN0ZXJzdHVkeS1lbnJvbGxlZC1xdWl6emVzLWl0ZW1fX3Byb2dyZXNzLS1maWxsZWQnKS5zdHlsZS53aWR0aCA9IGAke3F1aXoucHJvZ3Jlc3N9JWA7XG4gICAgICAgICAgICBpdGVtLnF1ZXJ5U2VsZWN0b3IoJy5tYXN0ZXJzdHVkeS1lbnJvbGxlZC1xdWl6emVzLWl0ZW1fX3Byb2dyZXNzLS1zdGF0dXMnKS50ZXh0Q29udGVudCA9IGAke3F1aXouZ3JhZGV9YDtcbiAgICAgICAgICAgIGNvbnN0IHN0YXR1c0VsID0gaXRlbS5xdWVyeVNlbGVjdG9yKCcubWFzdGVyc3R1ZHktZW5yb2xsZWQtcXVpenplcy1pdGVtX19zdGF0dXMnKTtcbiAgICAgICAgICAgIHN0YXR1c0VsLnRleHRDb250ZW50ID0gcXVpei5zdGF0dXMubGFiZWw7XG4gICAgICAgICAgICBzdGF0dXNFbC5kYXRhc2V0LnF1aXpTdGF0dXMgPSBxdWl6LnN0YXR1cy52YWx1ZTtcbiAgICAgICAgICAgIHN0YXR1c0VsLmNsYXNzTGlzdC5hZGQocXVpei5zdGF0dXMudmFsdWUpO1xuICAgICAgICAgICAgaXRlbS5xdWVyeVNlbGVjdG9yKCcubWFzdGVyc3R1ZHktZW5yb2xsZWQtcXVpenplcy1pdGVtX19kZXRhaWxzJykuaHJlZiA9IHF1aXouYXR0ZW1wdHMudXJsO1xuICAgICAgICAgICAgaXRlbXNDb250YWluZXIuYXBwZW5kQ2hpbGQoaXRlbSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBjbG9uZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1cGRhdGVQYWdpbmF0aW9uKHRvdGFsUGFnZXMsIGN1cnJlbnRQYWdlKSB7XG4gICAgICAgIHJlbmRlclBhZ2luYXRpb24oe1xuICAgICAgICAgICAgYWpheHVybDogc3RtX2xtc19hamF4dXJsLFxuICAgICAgICAgICAgbm9uY2U6IHN0bV9sbXNfbm9uY2VzLnN0bV9sbXNfZW5yb2xsZWRfcXVpenplcyxcbiAgICAgICAgICAgIHRvdGFsUGFnZXMsXG4gICAgICAgICAgICBjdXJyZW50UGFnZSxcbiAgICAgICAgICAgIHBhZ2luYXRpb25Db250YWluZXI6IGNvbmZpZy5zZWxlY3RvcnMucGFnaW5hdGlvbixcbiAgICAgICAgICAgIG9uUGFnZUNoYW5nZTogZmV0Y2hRdWl6emVzLFxuICAgICAgICAgICAgZ2V0UGVyUGFnZVNlbGVjdG9yOiAoKSA9PiAnI2Vucm9sbGVkLXF1aXp6ZXMtcGVyLXBhZ2UnLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBiaW5kUGVyUGFnZUhhbmRsZXIoJCggY29uZmlnLnNlbGVjdG9ycy5wcmVmaXgsIGNvbmZpZy5zZWxlY3RvcnMuY29udGFpbmVyICksIGNvbmZpZy5zZWxlY3RvcnMucGVyUGFnZSwgZmV0Y2hRdWl6emVzKTtcbiAgICAgICAgICAgIGZldGNoUXVpenplcygpO1xuICAgICAgICAgICAgaW5pdFNlYXJjaCgpO1xuICAgICAgICB9LFxuICAgIH07XG5cbiAgICBmdW5jdGlvbiBpbml0U2VhcmNoKCkge1xuICAgICAgICBjb25zdCAkaW5wdXQgPSAkKCcubWFzdGVyc3R1ZHktZW5yb2xsZWQtcXVpenplcy1zZWFyY2hfX2lucHV0Jyk7XG4gICAgICAgIGlmICghJGlucHV0Lmxlbmd0aCkgcmV0dXJuO1xuXG4gICAgICAgIGxldCB0aW1lcjtcbiAgICAgICAgbGV0IGxhc3RRdWVyeSA9ICcnO1xuXG4gICAgICAgICRpbnB1dC5vZmYoXCJpbnB1dFwiKS5vbihcImlucHV0XCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7XG4gICAgICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHF1ZXJ5ID0gJGlucHV0LnZhbCgpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICBpZiAocXVlcnkgIT09IGxhc3RRdWVyeSkge1xuICAgICAgICAgICAgICAgICAgICBsYXN0UXVlcnkgPSBxdWVyeTtcbiAgICAgICAgICAgICAgICAgICAgZmV0Y2hRdWl6emVzKCQoXCIjZW5yb2xsZWQtcXVpenplcy1wZXItcGFnZVwiKS52YWwoKSwgMSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgMzAwKTtcbiAgICAgICAgfSk7XG4gICAgfVxufSkoKTtcbiIsImltcG9ydCB7IENPTkZJRyB9IGZyb20gJy4vY29uZmlnLmpzJztcbmltcG9ydCB7YmluZFBlclBhZ2VIYW5kbGVyLCByZW5kZXJQYWdpbmF0aW9uLCB1cGRhdGVQYWdpbmF0aW9uVmlld30gZnJvbSAnLi91dGlscy5qcyc7XG53aW5kb3cuJCA9IGpRdWVyeTtcblxuZXhwb3J0IGNvbnN0IFF1aXpBdHRlbXB0c01vZHVsZSA9IChmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgY29uZmlnID0ge1xuICAgICAgICBtb2RlOiAnc3RhbmRhbG9uZScsXG4gICAgICAgIHNlbGVjdG9yczogQ09ORklHLnNlbGVjdG9ycy5xdWl6U3RhbmRhbG9uZSxcbiAgICAgICAgZW5kcG9pbnQ6IENPTkZJRy5lbmRwb2ludHMucXVpekF0dGVtcHRzLFxuICAgIH07XG4gICAgbGV0IHRvdGFsUGFnZXMgPSAxO1xuXG4gICAgZnVuY3Rpb24gc2V0TW9kZShtb2RlKSB7XG4gICAgICAgIGNvbmZpZy5tb2RlID0gbW9kZTtcbiAgICAgICAgY29uZmlnLnNlbGVjdG9ycyA9IG1vZGUgPT09ICdoaXN0b3J5JyA/IENPTkZJRy5zZWxlY3RvcnMucXVpekhpc3RvcnkgOiBDT05GSUcuc2VsZWN0b3JzLnF1aXpTdGFuZGFsb25lO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZldGNoQXR0ZW1wdHMocGVyUGFnZSA9IHVuZGVmaW5lZCwgY3VycmVudFBhZ2UgPSAxKSB7XG4gICAgICAgIGxldCB1cmwgPSBDT05GSUcuYXBpQmFzZSArIGNvbmZpZy5lbmRwb2ludDtcbiAgICAgICAgY29uc3QgcXVlcnkgPSBbXTtcblxuICAgICAgICBpZiAocGVyUGFnZSkgcXVlcnkucHVzaChgcGVyX3BhZ2U9JHtwZXJQYWdlfWApO1xuICAgICAgICBpZiAoY3VycmVudFBhZ2UpIHF1ZXJ5LnB1c2goYGN1cnJlbnRfcGFnZT0ke2N1cnJlbnRQYWdlfWApO1xuICAgICAgICBpZiAobWFzdGVyc3R1ZHlfcXVpel9hdHRlbXB0cy5jb3Vyc2VfaWQpIHF1ZXJ5LnB1c2goYGNvdXJzZV9pZD0ke21hc3RlcnN0dWR5X3F1aXpfYXR0ZW1wdHMuY291cnNlX2lkfWApO1xuICAgICAgICBpZiAobWFzdGVyc3R1ZHlfcXVpel9hdHRlbXB0cy5xdWl6X2lkKSBxdWVyeS5wdXNoKGBxdWl6X2lkPSR7bWFzdGVyc3R1ZHlfcXVpel9hdHRlbXB0cy5xdWl6X2lkfWApO1xuICAgICAgICBpZiAocXVlcnkubGVuZ3RoKSB1cmwgKz0gYD8ke3F1ZXJ5LmpvaW4oXCImXCIpfWA7XG5cbiAgICAgICAgdXBkYXRlUGFnaW5hdGlvblZpZXcoIHRvdGFsUGFnZXMsIGN1cnJlbnRQYWdlICk7XG5cbiAgICAgICAgY29uc3QgJGNvbnRhaW5lciA9ICQoY29uZmlnLnNlbGVjdG9ycy5jb250YWluZXIpO1xuXG4gICAgICAgICQoIGNvbmZpZy5zZWxlY3RvcnMucHJlZml4LCAkY29udGFpbmVyICkucmVtb3ZlKCk7XG5cbiAgICAgICAgJGNvbnRhaW5lci5hZGRDbGFzcyhcInF1aXotYXR0ZW1wdHMtbG9hZGluZ1wiKTtcblxuICAgICAgICBmZXRjaCh1cmwsIHtcbiAgICAgICAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICAgICBcIlgtV1AtTm9uY2VcIjogQ09ORklHLm5vbmNlLFxuICAgICAgICAgICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSlcbiAgICAgICAgLnRoZW4ocmVzID0+IHJlcy5qc29uKCkpXG4gICAgICAgIC50aGVuKGRhdGEgPT4ge1xuICAgICAgICAgICAgJGNvbnRhaW5lci5jc3MoXCJoZWlnaHRcIiwgXCJhdXRvXCIpLnJlbW92ZUNsYXNzKFwicXVpei1hdHRlbXB0cy1sb2FkaW5nXCIpO1xuICAgICAgICAgICAgJCggY29uZmlnLnNlbGVjdG9ycy5wcmVmaXgsICRjb250YWluZXIgKS5yZW1vdmUoKTtcblxuICAgICAgICAgICAgdG90YWxQYWdlcyA9IGRhdGEucGFnZXM7XG5cbiAgICAgICAgICAgIHVwZGF0ZVBhZ2luYXRpb24oZGF0YS5wYWdlcywgY3VycmVudFBhZ2UpO1xuICAgICAgICAgICAgKGRhdGEuYXR0ZW1wdHMgfHwgW10pLmZvckVhY2goYXR0ZW1wdCA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaHRtbCA9IHJlbmRlckF0dGVtcHRUZW1wbGF0ZShhdHRlbXB0KTtcbiAgICAgICAgICAgICAgICAkY29udGFpbmVyLmFwcGVuZChodG1sKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBxdWl6IGF0dGVtcHRzOlwiLCBlcnIpO1xuICAgICAgICAgICAgJGNvbnRhaW5lci5jc3MoXCJoZWlnaHRcIiwgXCJhdXRvXCIpLnJlbW92ZUNsYXNzKFwicXVpei1hdHRlbXB0cy1sb2FkaW5nXCIpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZW5kZXJBdHRlbXB0VGVtcGxhdGUoYXR0ZW1wdCkge1xuICAgICAgICBjb25zdCB0ZW1wbGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGNvbmZpZy5zZWxlY3RvcnMudGVtcGxhdGVJZCk7XG4gICAgICAgIGlmICghdGVtcGxhdGUpIHJldHVybiAnJztcbiAgICAgICAgY29uc3QgY2xvbmUgPSB0ZW1wbGF0ZS5jb250ZW50LmNsb25lTm9kZSh0cnVlKTtcbiAgICAgICAgY29uc3QgJCA9IChzZWxlY3RvcikgPT4gY2xvbmUucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICAgIGNvbnN0IHByZWZpeCA9IGNvbmZpZy5zZWxlY3RvcnMucHJlZml4O1xuICAgICAgICBjb25zdCBkYXRlID0gJChgJHtwcmVmaXh9X19kYXRlYCk7XG5cbiAgICAgICAgbGV0IHNlbGVjdG9yRGF0ZSA9IGRhdGUuZ2V0QXR0cmlidXRlKCAnZGF0YS1oZWFkZXInICkucmVwbGFjZSggJyVzJywgYXR0ZW1wdC5udW1iZXIgKTtcblxuICAgICAgICAkKGAke3ByZWZpeH1fX251bWJlcmApLnRleHRDb250ZW50ID0gYXR0ZW1wdC5udW1iZXI7XG4gICAgICAgIGRhdGUuc2V0QXR0cmlidXRlKCAnZGF0YS1oZWFkZXInLCBzZWxlY3RvckRhdGUgKTtcbiAgICAgICAgJChgJHtwcmVmaXh9X19kYXRlLS12YWx1ZWApLnRleHRDb250ZW50ID0gYXR0ZW1wdC5jcmVhdGVkX2F0LmRhdGU7XG4gICAgICAgICQoYCR7cHJlZml4fV9fZGF0ZS0tdGltZWApLnRleHRDb250ZW50ID0gYXR0ZW1wdC5jcmVhdGVkX2F0LnRpbWU7XG4gICAgICAgICQoYCR7cHJlZml4fV9fcXVlc3Rpb25zYCkudGV4dENvbnRlbnQgPSBhdHRlbXB0LnF1ZXN0aW9ucztcbiAgICAgICAgJChgJHtwcmVmaXh9X19jb3JyZWN0YCkudGV4dENvbnRlbnQgPSBhdHRlbXB0LmF0dGVtcHRzLmNvcnJlY3Q7XG4gICAgICAgICQoYCR7cHJlZml4fV9faW5jb3JyZWN0YCkudGV4dENvbnRlbnQgPSBhdHRlbXB0LmF0dGVtcHRzLmluY29ycmVjdDtcbiAgICAgICAgJChgJHtwcmVmaXh9X19wcm9ncmVzc2ApLnNldEF0dHJpYnV0ZShcImRhdGEtcXVpei1wcm9ncmVzc1wiLCBhdHRlbXB0LnByb2dyZXNzKTtcbiAgICAgICAgJChgJHtwcmVmaXh9X19wcm9ncmVzcy0tZmlsbGVkYCkuc3R5bGUud2lkdGggPSBgJHthdHRlbXB0LnByb2dyZXNzfSVgO1xuICAgICAgICAkKGAke3ByZWZpeH1fX2dyYWRlYCkudGV4dENvbnRlbnQgPSBgJHthdHRlbXB0LmdyYWRlfWA7XG4gICAgICAgICQoYCR7cHJlZml4fV9fc3RhdHVzYCkuc2V0QXR0cmlidXRlKFwiZGF0YS1xdWl6LXN0YXR1c1wiLCBhdHRlbXB0LnN0YXR1cy52YWx1ZSk7XG4gICAgICAgICQoYCR7cHJlZml4fV9fc3RhdHVzYCkudGV4dENvbnRlbnQgPSBhdHRlbXB0LnN0YXR1cy5sYWJlbDtcbiAgICAgICAgJChgJHtwcmVmaXh9X19zdGF0dXNgKS5jbGFzc0xpc3QuYWRkKGF0dGVtcHQuc3RhdHVzLnZhbHVlKTtcbiAgICAgICAgJChgJHtwcmVmaXh9X19kZXRhaWxzYCkuc2V0QXR0cmlidXRlKFwiaHJlZlwiLCBhdHRlbXB0LnVybCk7XG5cbiAgICAgICAgcmV0dXJuIGNsb25lO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHVwZGF0ZVBhZ2luYXRpb24odG90YWxQYWdlcywgY3VycmVudFBhZ2UpIHtcbiAgICAgICAgcmVuZGVyUGFnaW5hdGlvbih7XG4gICAgICAgICAgICBhamF4dXJsOiBzdG1fbG1zX2FqYXh1cmwsXG4gICAgICAgICAgICBub25jZTogc3RtX2xtc19ub25jZXMuc3RtX2xtc19lbnJvbGxlZF9xdWl6emVzLFxuICAgICAgICAgICAgdG90YWxQYWdlcyxcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlLFxuICAgICAgICAgICAgcGFnaW5hdGlvbkNvbnRhaW5lcjogY29uZmlnLnNlbGVjdG9ycy5wYWdpbmF0aW9uLFxuICAgICAgICAgICAgb25QYWdlQ2hhbmdlOiBmZXRjaEF0dGVtcHRzLFxuICAgICAgICAgICAgZ2V0UGVyUGFnZVNlbGVjdG9yOiAoKSA9PiAnI3F1aXotYXR0ZW1wdHMtcGVyLXBhZ2UnLFxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBpbml0OiBmdW5jdGlvbiAobW9kZSA9ICdzdGFuZGFsb25lJykge1xuICAgICAgICAgICAgc2V0TW9kZShtb2RlKTtcbiAgICAgICAgICAgIGJpbmRQZXJQYWdlSGFuZGxlcigkKCBjb25maWcuc2VsZWN0b3JzLnByZWZpeCwgY29uZmlnLnNlbGVjdG9ycy5jb250YWluZXIgKSwgY29uZmlnLnNlbGVjdG9ycy5wZXJQYWdlLCBmZXRjaEF0dGVtcHRzKTtcbiAgICAgICAgICAgIGZldGNoQXR0ZW1wdHMoKTtcbiAgICAgICAgfSxcbiAgICB9O1xufSkoKTtcbiIsImltcG9ydCB7IFF1aXpBdHRlbXB0c01vZHVsZSB9IGZyb20gJy4vcXVpei1hdHRlbXB0cy5qcyc7XG53aW5kb3cuJCA9IGpRdWVyeTtcblxuZXhwb3J0IGZ1bmN0aW9uIGluaXRUYWJzVG9nZ2xlKCkge1xuICAgIGNvbnN0IHRhYkNsYXNzID0gXCJtYXN0ZXJzdHVkeS10YWJzX19pdGVtXCI7XG4gICAgY29uc3QgYWN0aXZlQ2xhc3MgPSBcIm1hc3RlcnN0dWR5LXRhYnNfX2l0ZW1fYWN0aXZlXCI7XG4gICAgY29uc3QgcXVpekNvbnRlbnQgPSBcIi5tYXN0ZXJzdHVkeS1jb3Vyc2UtcGxheWVyLWNvbnRlbnRfX2hlYWRlcl9xdWl6LCAubWFzdGVyc3R1ZHktY291cnNlLXBsYXllci1xdWl6LCBbZGF0YS1pZD0ncXVpel9hbGVydCddXCI7XG4gICAgY29uc3QgYXR0ZW1wdHNDb250ZW50ID0gXCIubWFzdGVyc3R1ZHktY291cnNlLXBsYXllci1xdWl6LWF0dGVtcHRzLXdyYXBwZXJcIjtcbiAgICBsZXQgYmVmb3JlUmVxdWVzdCA9IGZhbHNlO1xuXG4gICAgJChgLiR7dGFiQ2xhc3N9W2RhdGEtaWRdYCkub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0ICR0aGlzID0gJCh0aGlzKTtcbiAgICAgICAgY29uc3QgY3VycmVudElkID0gJHRoaXMuZGF0YShcImlkXCIpO1xuICAgICAgICBjb25zdCBwcmV2SWQgPSBjdXJyZW50SWQgPT09IFwicXVpelwiID8gXCJoaXN0b3J5XCIgOiBcInF1aXpcIjtcbiAgICAgICAgY29uc3QgdG9TaG93ID0gY3VycmVudElkID09PSBcInF1aXpcIiA/IHF1aXpDb250ZW50IDogYXR0ZW1wdHNDb250ZW50O1xuICAgICAgICBjb25zdCB0b0hpZGUgPSBjdXJyZW50SWQgPT09IFwicXVpelwiID8gYXR0ZW1wdHNDb250ZW50IDogcXVpekNvbnRlbnQ7XG5cbiAgICAgICAgJChgW2RhdGEtaWQ9JyR7cHJldklkfSddYCkucmVtb3ZlQ2xhc3MoYWN0aXZlQ2xhc3MpO1xuICAgICAgICAkdGhpcy5hZGRDbGFzcyhhY3RpdmVDbGFzcyk7XG4gICAgICAgICQodG9TaG93KS5yZW1vdmVDbGFzcyhcIm1hc3RlcnN0dWR5LWNvdXJzZS1wbGF5ZXItcXVpel9faGlkZVwiKS5zaG93KCk7XG4gICAgICAgICQodG9IaWRlKS5hZGRDbGFzcyhcIm1hc3RlcnN0dWR5LWNvdXJzZS1wbGF5ZXItcXVpel9faGlkZVwiKTtcblxuICAgICAgICBpZiAoY3VycmVudElkID09PSBcImhpc3RvcnlcIiAmJiAhYmVmb3JlUmVxdWVzdCkge1xuICAgICAgICAgICAgYmVmb3JlUmVxdWVzdCA9IHRydWU7XG4gICAgICAgICAgICBRdWl6QXR0ZW1wdHNNb2R1bGUuaW5pdChcImhpc3RvcnlcIik7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbiIsIndpbmRvdy4kID0galF1ZXJ5O1xuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlUGFnaW5hdGlvblZpZXcodG90YWxQYWdlcywgY3VycmVudFBhZ2UpIHtcbiAgICAkKFwiLm1hc3RlcnN0dWR5LXBhZ2luYXRpb25fX2l0ZW1cIikucmVtb3ZlQ2xhc3MoJ21hc3RlcnN0dWR5LXBhZ2luYXRpb25fX2l0ZW1fY3VycmVudCcpLmhpZGUoKTtcbiAgICBsZXQgc3RhcnQgPSBNYXRoLm1heCgxLCBjdXJyZW50UGFnZSAtIDEpO1xuICAgIGxldCBlbmQgPSBNYXRoLm1pbih0b3RhbFBhZ2VzLCBjdXJyZW50UGFnZSArIDEpO1xuXG4gICAgaWYgKGN1cnJlbnRQYWdlID09PSAxIHx8IHN0YXJ0ID09PSAxKSBlbmQgPSBNYXRoLm1pbih0b3RhbFBhZ2VzLCBzdGFydCArIDIpO1xuICAgIGlmIChjdXJyZW50UGFnZSA9PT0gdG90YWxQYWdlcyB8fCBlbmQgPT09IHRvdGFsUGFnZXMpIHN0YXJ0ID0gTWF0aC5tYXgoMSwgZW5kIC0gMik7XG5cbiAgICBmb3IgKGxldCBpID0gc3RhcnQ7IGkgPD0gZW5kOyBpKyspIHtcbiAgICAgICAgJChgLm1hc3RlcnN0dWR5LXBhZ2luYXRpb25fX2l0ZW06aGFzKFtkYXRhLWlkPVwiJHtpfVwiXSlgKS5zaG93KCk7XG4gICAgfVxuXG4gICAgJChgLm1hc3RlcnN0dWR5LXBhZ2luYXRpb25fX2l0ZW0tYmxvY2tbZGF0YS1pZD1cIiR7Y3VycmVudFBhZ2V9XCJdYCkucGFyZW50KCkuYWRkQ2xhc3MoICdtYXN0ZXJzdHVkeS1wYWdpbmF0aW9uX19pdGVtX2N1cnJlbnQnICk7XG4gICAgJChcIi5tYXN0ZXJzdHVkeS1wYWdpbmF0aW9uX19idXR0b24tbmV4dFwiKS50b2dnbGUoY3VycmVudFBhZ2UgPCB0b3RhbFBhZ2VzKTtcbiAgICAkKFwiLm1hc3RlcnN0dWR5LXBhZ2luYXRpb25fX2J1dHRvbi1wcmV2XCIpLnRvZ2dsZShjdXJyZW50UGFnZSA+IDEpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYXR0YWNoUGFnaW5hdGlvbkNsaWNrSGFuZGxlcnModG90YWxQYWdlcywgb25QYWdlQ2hhbmdlLCBnZXRQZXJQYWdlU2VsZWN0b3IpIHtcbiAgICAkKFwiLm1hc3RlcnN0dWR5LXBhZ2luYXRpb25fX2l0ZW0tYmxvY2tcIikub2ZmKFwiY2xpY2tcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICggJCh0aGlzKS5wYXJlbnQoKS5oYXNDbGFzcyggJ21hc3RlcnN0dWR5LXBhZ2luYXRpb25fX2l0ZW1fY3VycmVudCcgKSApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBhZ2UgPSAkKHRoaXMpLmRhdGEoXCJpZFwiKTtcbiAgICAgICAgb25QYWdlQ2hhbmdlKCQoZ2V0UGVyUGFnZVNlbGVjdG9yKCkpLnZhbCgpLCBwYWdlKTtcbiAgICB9KTtcblxuICAgICQoXCIubWFzdGVyc3R1ZHktcGFnaW5hdGlvbl9fYnV0dG9uLXByZXZcIikub2ZmKFwiY2xpY2tcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSAkKFwiLm1hc3RlcnN0dWR5LXBhZ2luYXRpb25fX2l0ZW1fY3VycmVudCAubWFzdGVyc3R1ZHktcGFnaW5hdGlvbl9faXRlbS1ibG9ja1wiKS5kYXRhKFwiaWRcIik7XG4gICAgICAgIGlmIChjdXJyZW50ID4gMSkgb25QYWdlQ2hhbmdlKCQoZ2V0UGVyUGFnZVNlbGVjdG9yKCkpLnZhbCgpLCBjdXJyZW50IC0gMSk7XG4gICAgfSk7XG5cbiAgICAkKFwiLm1hc3RlcnN0dWR5LXBhZ2luYXRpb25fX2J1dHRvbi1uZXh0XCIpLm9mZihcImNsaWNrXCIpLm9uKFwiY2xpY2tcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICBjb25zdCBjdXJyZW50ID0gJChcIi5tYXN0ZXJzdHVkeS1wYWdpbmF0aW9uX19pdGVtX2N1cnJlbnQgLm1hc3RlcnN0dWR5LXBhZ2luYXRpb25fX2l0ZW0tYmxvY2tcIikuZGF0YShcImlkXCIpO1xuICAgICAgICBjb25zdCB0b3RhbCA9ICQoXCIubWFzdGVyc3R1ZHktcGFnaW5hdGlvbl9faXRlbS1ibG9ja1wiKS5sZW5ndGg7XG4gICAgICAgIGlmIChjdXJyZW50IDwgdG90YWwpIG9uUGFnZUNoYW5nZSgkKGdldFBlclBhZ2VTZWxlY3RvcigpKS52YWwoKSwgY3VycmVudCArIDEpO1xuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gYmluZFBlclBhZ2VIYW5kbGVyKGNvbnRhaW5lclNlbGVjdG9yLCBwZXJQYWdlLCBmZXRjaEZuKSB7XG4gICAgJChcIi5tYXN0ZXJzdHVkeS1zZWxlY3RfX29wdGlvbiwgLm1hc3RlcnN0dWR5LXNlbGVjdF9fY2xlYXJcIiwgcGVyUGFnZSkub2ZmKFwiY2xpY2tcIikub24oXCJjbGlja1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICQoY29udGFpbmVyU2VsZWN0b3IpLnJlbW92ZSgpO1xuICAgICAgICBmZXRjaEZuKCQodGhpcykuZGF0YShcInZhbHVlXCIpKTtcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlbmRlclBhZ2luYXRpb24oe1xuICAgIGFqYXh1cmwsXG4gICAgbm9uY2UsXG4gICAgdG90YWxQYWdlcyxcbiAgICBjdXJyZW50UGFnZSxcbiAgICBwYWdpbmF0aW9uQ29udGFpbmVyLFxuICAgIG9uUGFnZUNoYW5nZSxcbiAgICBnZXRQZXJQYWdlU2VsZWN0b3IsXG59KSB7XG4gICAgJC5wb3N0KGFqYXh1cmwsIHtcbiAgICAgICAgYWN0aW9uOiBcImdldF9wYWdpbmF0aW9uXCIsXG4gICAgICAgIHRvdGFsX3BhZ2VzOiB0b3RhbFBhZ2VzLFxuICAgICAgICBjdXJyZW50X3BhZ2U6IGN1cnJlbnRQYWdlLFxuICAgICAgICBfYWpheF9ub25jZTogbm9uY2UsXG4gICAgfSwgZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIGlmIChyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgICAgICBjb25zdCAkbmF2ID0gJChwYWdpbmF0aW9uQ29udGFpbmVyKTtcbiAgICAgICAgICAgICRuYXYudG9nZ2xlKHRvdGFsUGFnZXMgPiAxKS5odG1sKHJlc3BvbnNlLmRhdGEucGFnaW5hdGlvbik7XG4gICAgICAgICAgICBhdHRhY2hQYWdpbmF0aW9uQ2xpY2tIYW5kbGVycyh0b3RhbFBhZ2VzLCBvblBhZ2VDaGFuZ2UsIGdldFBlclBhZ2VTZWxlY3Rvcik7XG4gICAgICAgICAgICB1cGRhdGVQYWdpbmF0aW9uVmlldyh0b3RhbFBhZ2VzLCBjdXJyZW50UGFnZSk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cbiJdfQ==
